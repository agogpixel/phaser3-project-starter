/*! For license information please see phaser~physics.b09f0302dad32cce2c16.js.LICENSE.txt */
(self.webpackChunk_agogpixel_phaser3_project_starter=self.webpackChunk_agogpixel_phaser3_project_starter||[]).push([[847],{38661:(t,e,i)=>{var o=i(69186),s=i(768),n=i(86479),r=new o({Extends:n,Mixins:[s.Acceleration,s.Angular,s.Bounce,s.Debug,s.Drag,s.Enable,s.Friction,s.Gravity,s.Immovable,s.Mass,s.Pushable,s.Size,s.Velocity],initialize:function(t,e,i,o,s){n.call(this,t,e,i,o,s),this.body=null}});t.exports=r},37402:(t,e,i)=>{var o=i(69186),s=i(23407),n=i(76914),r=i(53747),a=i(6394),l=i(25738),c=i(50247),h=i(79552),d=i(8987),u=i(46236),p=i(12063),y=i(17321),f=i(17693),v=new o({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,t.sys.events.once(p.BOOT,this.boot,this),t.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new f(this.scene,this.config),this.add=new a(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new f(this.scene,this.config),this.add=new a(this.world));var t=this.systems.events;l(this.config,"customUpdate",!1)||t.on(p.UPDATE,this.world.update,this.world),t.on(p.POST_UPDATE,this.world.postUpdate,this.world),t.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return c(l(e,"arcade",{}),l(t,"arcade",{}))},overlap:function(t,e,i,o,s){return void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=i),this.world.collideObjects(t,e,i,o,s,!0)},collide:function(t,e,i,o,s){return void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=i),this.world.collideObjects(t,e,i,o,s,!1)},collideTiles:function(t,e,i,o,s){return this.world.collideTiles(t,e,i,o,s)},overlapTiles:function(t,e,i,o,s){return this.world.overlapTiles(t,e,i,o,s)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(t,e,i,o,s,n){void 0===o&&(o=60);var r=Math.atan2(i-t.y,e-t.x);return t.body.acceleration.setToPolar(r,o),void 0!==s&&void 0!==n&&t.body.maxVelocity.set(s,n),r},accelerateToObject:function(t,e,i,o,s){return this.accelerateTo(t,e.x,e.y,i,o,s)},closest:function(t,e){e||(e=this.world.bodies.entries);for(var i=Number.MAX_VALUE,o=null,s=t.x,n=t.y,a=e.length,l=0;l<a;l++){var c=e[l],h=c.body||c;if(t!==c&&t!==h&&t!==h.gameObject&&t!==h.center){var d=r(s,n,h.center.x,h.center.y);d<i&&(o=c,i=d)}}return o},furthest:function(t,e){e||(e=this.world.bodies.entries);for(var i=-1,o=null,s=t.x,n=t.y,a=e.length,l=0;l<a;l++){var c=e[l],h=c.body||c;if(t!==c&&t!==h&&t!==h.gameObject&&t!==h.center){var d=r(s,n,h.center.x,h.center.y);d>i&&(o=c,i=d)}}return o},moveTo:function(t,e,i,o,s){void 0===o&&(o=60),void 0===s&&(s=0);var r=Math.atan2(i-t.y,e-t.x);return s>0&&(o=n(t.x,t.y,e,i)/(s/1e3)),t.body.velocity.setToPolar(r,o),r},moveToObject:function(t,e,i,o){return this.moveTo(t,e.x,e.y,i,o)},velocityFromAngle:function(t,e,i){return void 0===e&&(e=60),void 0===i&&(i=new y),i.setToPolar(s(t),e)},velocityFromRotation:function(t,e,i){return void 0===e&&(e=60),void 0===i&&(i=new y),i.setToPolar(t,e)},overlapRect:function(t,e,i,o,s,n){return d(this.world,t,e,i,o,s,n)},overlapCirc:function(t,e,i,o,s){return h(this.world,t,e,i,o,s)},shutdown:function(){if(this.world){var t=this.systems.events;t.off(p.UPDATE,this.world.update,this.world),t.off(p.POST_UPDATE,this.world.postUpdate,this.world),t.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});u.register("ArcadePhysics",v,"arcadePhysics"),t.exports=v},59327:(t,e,i)=>{var o=i(69186),s=i(768),n=i(38590),r=new o({Extends:n,Mixins:[s.Acceleration,s.Angular,s.Bounce,s.Debug,s.Drag,s.Enable,s.Friction,s.Gravity,s.Immovable,s.Mass,s.Pushable,s.Size,s.Velocity],initialize:function(t,e,i,o,s){n.call(this,t,e,i,o,s),this.body=null}});t.exports=r},58019:(t,e,i)=>{var o=i(69186),s=i(58581),n=i(81518),r=i(33642),a=i(75380),l=i(26813),c=i(17321),h=new o({initialize:function(t,e){var i=e.displayWidth?e.displayWidth:64,o=e.displayHeight?e.displayHeight:64;this.world=t,this.gameObject=e,this.transform={x:e.x,y:e.y,rotation:e.angle,scaleX:e.scaleX,scaleY:e.scaleY,displayOriginX:e.displayOriginX,displayOriginY:e.displayOriginY},this.debugShowBody=t.defaults.debugShowBody,this.debugShowVelocity=t.defaults.debugShowVelocity,this.debugBodyColor=t.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new c,this.position=new c(e.x-e.scaleX*e.displayOriginX,e.y-e.scaleY*e.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=e.angle,this.preRotation=e.angle,this.width=i,this.height=o,this.sourceWidth=i,this.sourceHeight=o,e.frame&&(this.sourceWidth=e.frame.realWidth,this.sourceHeight=e.frame.realHeight),this.halfWidth=Math.abs(i/2),this.halfHeight=Math.abs(o/2),this.center=new c(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new c,this.newVelocity=new c,this.deltaMax=new c,this.acceleration=new c,this.allowDrag=!0,this.drag=new c,this.allowGravity=!0,this.gravity=new c,this.bounce=new c,this.worldBounce=null,this.customBoundsRectangle=t.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new c(1e4,1e4),this.maxSpeed=-1,this.friction=new c(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=s.FACING_NONE,this.immovable=!1,this.pushable=!0,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.syncBounds=!1,this.physicsType=s.DYNAMIC_BODY,this._sx=e.scaleX,this._sy=e.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new a},updateBounds:function(){var t=this.gameObject,e=this.transform;if(t.parentContainer){var i=t.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);e.x=i.tx,e.y=i.ty,e.rotation=r(i.rotation),e.scaleX=i.scaleX,e.scaleY=i.scaleY,e.displayOriginX=t.displayOriginX,e.displayOriginY=t.displayOriginY}else e.x=t.x,e.y=t.y,e.rotation=t.angle,e.scaleX=t.scaleX,e.scaleY=t.scaleY,e.displayOriginX=t.displayOriginX,e.displayOriginY=t.displayOriginY;var o=!1;if(this.syncBounds){var s=t.getBounds(this._bounds);this.width=s.width,this.height=s.height,o=!0}else{var n=Math.abs(e.scaleX),a=Math.abs(e.scaleY);this._sx===n&&this._sy===a||(this.width=this.sourceWidth*n,this.height=this.sourceHeight*a,this._sx=n,this._sy=a,o=!0)}o&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var t=this.transform;this.position.x=t.x+t.scaleX*(this.offset.x-t.displayOriginX),this.position.y=t.y+t.scaleY*(this.offset.y-t.displayOriginY),this.updateCenter()},resetFlags:function(t){void 0===t&&(t=!1);var e=this.wasTouching,i=this.touching,o=this.blocked;t?(e.none=!0,e.up=!1,e.down=!1,e.left=!1,e.right=!1):(e.none=i.none,e.up=i.up,e.down=i.down,e.left=i.left,e.right=i.right),i.none=!0,i.up=!1,i.down=!1,i.left=!1,i.right=!1,o.none=!0,o.up=!1,o.down=!1,o.left=!1,o.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(t,e){t&&this.resetFlags(),this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves&&(this.prev.x=this.position.x,this.prev.y=this.position.y,this.prevFrame.x=this.position.x,this.prevFrame.y=this.position.y),t&&this.update(e)},update:function(t){if(this.prev.x=this.position.x,this.prev.y=this.position.y,this.moves){this.world.updateMotion(this,t);var e=this.velocity.x,i=this.velocity.y;this.newVelocity.set(e*t,i*t),this.position.add(this.newVelocity),this.updateCenter(),this.angle=Math.atan2(i,e),this.speed=Math.sqrt(e*e+i*i),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.world.emit(n.WORLD_BOUNDS,this,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)}this._dx=this.position.x-this.prev.x,this._dy=this.position.y-this.prev.y},postUpdate:function(){var t=this.position.x-this.prevFrame.x,e=this.position.y-this.prevFrame.y;if(this.moves){var i=this.deltaMax.x,o=this.deltaMax.y;0!==i&&0!==t&&(t<0&&t<-i?t=-i:t>0&&t>i&&(t=i)),0!==o&&0!==e&&(e<0&&e<-o?e=-o:e>0&&e>o&&(e=o)),this.gameObject.x+=t,this.gameObject.y+=e}t<0?this.facing=s.FACING_LEFT:t>0&&(this.facing=s.FACING_RIGHT),e<0?this.facing=s.FACING_UP:e>0&&(this.facing=s.FACING_DOWN),this.allowRotation&&(this.gameObject.angle+=this.deltaZ()),this._tx=t,this._ty=e},setBoundsRectangle:function(t){return this.customBoundsRectangle=t||this.world.bounds,this},checkWorldBounds:function(){var t=this.position,e=this.customBoundsRectangle,i=this.world.checkCollision,o=this.worldBounce?-this.worldBounce.x:-this.bounce.x,s=this.worldBounce?-this.worldBounce.y:-this.bounce.y,n=!1;return t.x<e.x&&i.left?(t.x=e.x,this.velocity.x*=o,this.blocked.left=!0,n=!0):this.right>e.right&&i.right&&(t.x=e.right-this.width,this.velocity.x*=o,this.blocked.right=!0,n=!0),t.y<e.y&&i.up?(t.y=e.y,this.velocity.y*=s,this.blocked.up=!0,n=!0):this.bottom>e.bottom&&i.down&&(t.y=e.bottom-this.height,this.velocity.y*=s,this.blocked.down=!0,n=!0),n&&(this.blocked.none=!1,this.updateCenter()),n},setOffset:function(t,e){return void 0===e&&(e=t),this.offset.set(t,e),this},setSize:function(t,e,i){void 0===i&&(i=!0);var o=this.gameObject;if(!t&&o.frame&&(t=o.frame.realWidth),!e&&o.frame&&(e=o.frame.realHeight),this.sourceWidth=t,this.sourceHeight=e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),i&&o.getCenter){var s=(o.width-t)/2,n=(o.height-e)/2;this.offset.set(s,n)}return this.isCircle=!1,this.radius=0,this},setCircle:function(t,e,i){return void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.isCircle=!0,this.radius=t,this.sourceWidth=2*t,this.sourceHeight=2*t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter()):this.isCircle=!1,this},reset:function(t,e){this.stop();var i=this.gameObject;i.setPosition(t,e),i.getTopLeft?i.getTopLeft(this.position):this.position.set(t,e),this.prev.copy(this.position),this.prevFrame.copy(this.position),this.rotation=i.angle,this.preRotation=i.angle,this.updateBounds(),this.updateCenter(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?this.radius>0&&t>=this.left&&t<=this.right&&e>=this.top&&e<=this.bottom&&(this.center.x-t)*(this.center.x-t)+(this.center.y-e)*(this.center.y-e)<=this.radius*this.radius:l(this,t,e)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(t){var e=this.position,i=e.x+this.halfWidth,o=e.y+this.halfHeight;this.debugShowBody&&(t.lineStyle(t.defaultStrokeWidth,this.debugBodyColor),this.isCircle?t.strokeCircle(i,o,this.width/2):(this.checkCollision.up&&t.lineBetween(e.x,e.y,e.x+this.width,e.y),this.checkCollision.right&&t.lineBetween(e.x+this.width,e.y,e.x+this.width,e.y+this.height),this.checkCollision.down&&t.lineBetween(e.x,e.y+this.height,e.x+this.width,e.y+this.height),this.checkCollision.left&&t.lineBetween(e.x,e.y,e.x,e.y+this.height))),this.debugShowVelocity&&(t.lineStyle(t.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),t.lineBetween(i,o,i+this.velocity.x/2,o+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setCollideWorldBounds:function(t,e,i,o){void 0===t&&(t=!0),this.collideWorldBounds=t;var s=void 0!==e,n=void 0!==i;return(s||n)&&(this.worldBounce||(this.worldBounce=new c),s&&(this.worldBounce.x=e),n&&(this.worldBounce.y=i)),void 0!==o&&(this.onWorldBounds=o),this},setVelocity:function(t,e){return this.velocity.set(t,e),t=this.velocity.x,e=this.velocity.y,this.speed=Math.sqrt(t*t+e*e),this},setVelocityX:function(t){this.velocity.x=t;var e=t,i=this.velocity.y;return this.speed=Math.sqrt(e*e+i*i),this},setVelocityY:function(t){this.velocity.y=t;var e=this.velocity.x,i=t;return this.speed=Math.sqrt(e*e+i*i),this},setMaxVelocity:function(t,e){return this.maxVelocity.set(t,e),this},setMaxVelocityX:function(t){return this.maxVelocity.x=t,this},setMaxVelocityY:function(t){return this.maxVelocity.y=t,this},setMaxSpeed:function(t){return this.maxSpeed=t,this},setBounce:function(t,e){return this.bounce.set(t,e),this},setBounceX:function(t){return this.bounce.x=t,this},setBounceY:function(t){return this.bounce.y=t,this},setAcceleration:function(t,e){return this.acceleration.set(t,e),this},setAccelerationX:function(t){return this.acceleration.x=t,this},setAccelerationY:function(t){return this.acceleration.y=t,this},setAllowDrag:function(t){return void 0===t&&(t=!0),this.allowDrag=t,this},setAllowGravity:function(t){return void 0===t&&(t=!0),this.allowGravity=t,this},setAllowRotation:function(t){return void 0===t&&(t=!0),this.allowRotation=t,this},setDrag:function(t,e){return this.drag.set(t,e),this},setDamping:function(t){return this.useDamping=t,this},setDragX:function(t){return this.drag.x=t,this},setDragY:function(t){return this.drag.y=t,this},setGravity:function(t,e){return this.gravity.set(t,e),this},setGravityX:function(t){return this.gravity.x=t,this},setGravityY:function(t){return this.gravity.y=t,this},setFriction:function(t,e){return this.friction.set(t,e),this},setFrictionX:function(t){return this.friction.x=t,this},setFrictionY:function(t){return this.friction.y=t,this},setAngularVelocity:function(t){return this.angularVelocity=t,this},setAngularAcceleration:function(t){return this.angularAcceleration=t,this},setAngularDrag:function(t){return this.angularDrag=t,this},setMass:function(t){return this.mass=t,this},setImmovable:function(t){return void 0===t&&(t=!0),this.immovable=t,this},setEnable:function(t){return void 0===t&&(t=!0),this.enable=t,this},processX:function(t,e,i,o){this.x+=t,this.updateCenter(),null!==e&&(this.velocity.x=e);var s=this.blocked;i&&(s.left=!0),o&&(s.right=!0)},processY:function(t,e,i,o){this.y+=t,this.updateCenter(),null!==e&&(this.velocity.y=e);var s=this.blocked;i&&(s.up=!0),o&&(s.down=!0)},x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});t.exports=h},95867:(t,e,i)=>{var o=new(i(69186))({initialize:function(t,e,i,o,s,n,r){this.world=t,this.name="",this.active=!0,this.overlapOnly=e,this.object1=i,this.object2=o,this.collideCallback=s,this.processCallback=n,this.callbackContext=r},setName:function(t){return this.name=t,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});t.exports=o},6394:(t,e,i)=>{var o=i(38661),s=i(59327),n=i(69186),r=i(58581),a=i(31188),l=i(36012),c=new n({initialize:function(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys},collider:function(t,e,i,o,s){return this.world.addCollider(t,e,i,o,s)},overlap:function(t,e,i,o,s){return this.world.addOverlap(t,e,i,o,s)},existing:function(t,e){var i=e?r.STATIC_BODY:r.DYNAMIC_BODY;return this.world.enableBody(t,i),t},staticImage:function(t,e,i,s){var n=new o(this.scene,t,e,i,s);return this.sys.displayList.add(n),this.world.enableBody(n,r.STATIC_BODY),n},image:function(t,e,i,s){var n=new o(this.scene,t,e,i,s);return this.sys.displayList.add(n),this.world.enableBody(n,r.DYNAMIC_BODY),n},staticSprite:function(t,e,i,o){var n=new s(this.scene,t,e,i,o);return this.sys.displayList.add(n),this.sys.updateList.add(n),this.world.enableBody(n,r.STATIC_BODY),n},sprite:function(t,e,i,o){var n=new s(this.scene,t,e,i,o);return this.sys.displayList.add(n),this.sys.updateList.add(n),this.world.enableBody(n,r.DYNAMIC_BODY),n},staticGroup:function(t,e){return this.sys.updateList.add(new l(this.world,this.world.scene,t,e))},group:function(t,e){return this.sys.updateList.add(new a(this.world,this.world.scene,t,e))},destroy:function(){this.world=null,this.scene=null,this.sys=null}});t.exports=c},67559:(t,e,i)=>{var o=i(58581);t.exports=function(t,e,i,s){var n=0,r=t.deltaAbsX()+e.deltaAbsX()+s;return 0===t._dx&&0===e._dx?(t.embedded=!0,e.embedded=!0):t._dx>e._dx?(n=t.right-e.x)>r&&!i||!1===t.checkCollision.right||!1===e.checkCollision.left?n=0:(t.touching.none=!1,t.touching.right=!0,e.touching.none=!1,e.touching.left=!0,e.physicsType!==o.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.right=!0),t.physicsType!==o.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.left=!0)):t._dx<e._dx&&(-(n=t.x-e.width-e.x)>r&&!i||!1===t.checkCollision.left||!1===e.checkCollision.right?n=0:(t.touching.none=!1,t.touching.left=!0,e.touching.none=!1,e.touching.right=!0,e.physicsType!==o.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.left=!0),t.physicsType!==o.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.right=!0))),t.overlapX=n,e.overlapX=n,n}},73996:(t,e,i)=>{var o=i(58581);t.exports=function(t,e,i,s){var n=0,r=t.deltaAbsY()+e.deltaAbsY()+s;return 0===t._dy&&0===e._dy?(t.embedded=!0,e.embedded=!0):t._dy>e._dy?(n=t.bottom-e.y)>r&&!i||!1===t.checkCollision.down||!1===e.checkCollision.up?n=0:(t.touching.none=!1,t.touching.down=!0,e.touching.none=!1,e.touching.up=!0,e.physicsType!==o.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.down=!0),t.physicsType!==o.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.up=!0)):t._dy<e._dy&&(-(n=t.y-e.bottom)>r&&!i||!1===t.checkCollision.up||!1===e.checkCollision.down?n=0:(t.touching.none=!1,t.touching.up=!0,e.touching.none=!1,e.touching.down=!0,e.physicsType!==o.STATIC_BODY||i||(t.blocked.none=!1,t.blocked.up=!0),t.physicsType!==o.STATIC_BODY||i||(e.blocked.none=!1,e.blocked.down=!0))),t.overlapY=n,e.overlapY=n,n}},31188:(t,e,i)=>{var o=i(59327),s=i(69186),n=i(58581),r=i(25738),a=i(84262),l=i(53013),c=new s({Extends:a,initialize:function(t,e,i,s){if(i||s)if(l(i))s=i,i=null,s.internalCreateCallback=this.createCallbackHandler,s.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(i)&&l(i[0])){s=i[0];var c=this;i.forEach((function(t){t.internalCreateCallback=c.createCallbackHandler,t.internalRemoveCallback=c.removeCallbackHandler})),i=null}else s={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else s={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=t,s.classType=r(s,"classType",o),this.physicsType=n.DYNAMIC_BODY,this.defaults={setCollideWorldBounds:r(s,"collideWorldBounds",!1),setBoundsRectangle:r(s,"customBoundsRectangle",null),setAccelerationX:r(s,"accelerationX",0),setAccelerationY:r(s,"accelerationY",0),setAllowDrag:r(s,"allowDrag",!0),setAllowGravity:r(s,"allowGravity",!0),setAllowRotation:r(s,"allowRotation",!0),setBounceX:r(s,"bounceX",0),setBounceY:r(s,"bounceY",0),setDragX:r(s,"dragX",0),setDragY:r(s,"dragY",0),setEnable:r(s,"enable",!0),setGravityX:r(s,"gravityX",0),setGravityY:r(s,"gravityY",0),setFrictionX:r(s,"frictionX",0),setFrictionY:r(s,"frictionY",0),setMaxVelocityX:r(s,"maxVelocityX",1e4),setMaxVelocityY:r(s,"maxVelocityY",1e4),setVelocityX:r(s,"velocityX",0),setVelocityY:r(s,"velocityY",0),setAngularVelocity:r(s,"angularVelocity",0),setAngularAcceleration:r(s,"angularAcceleration",0),setAngularDrag:r(s,"angularDrag",0),setMass:r(s,"mass",1),setImmovable:r(s,"immovable",!1)},a.call(this,e,i,s),this.type="PhysicsGroup"},createCallbackHandler:function(t){t.body||this.world.enableBody(t,n.DYNAMIC_BODY);var e=t.body;for(var i in this.defaults)e[i](this.defaults[i])},removeCallbackHandler:function(t){t.body&&this.world.disableBody(t)},setVelocity:function(t,e,i){void 0===i&&(i=0);for(var o=this.getChildren(),s=0;s<o.length;s++)o[s].body.velocity.set(t+s*i,e+s*i);return this},setVelocityX:function(t,e){void 0===e&&(e=0);for(var i=this.getChildren(),o=0;o<i.length;o++)i[o].body.velocity.x=t+o*e;return this},setVelocityY:function(t,e){void 0===e&&(e=0);for(var i=this.getChildren(),o=0;o<i.length;o++)i[o].body.velocity.y=t+o*e;return this}});t.exports=c},37787:t=>{var e,i,o,s,n,r,a,l,c,h,d,u,p,y,f,v,g,m=function(){return h&&f&&i.blocked.right?(e.processX(-g,a,!1,!0),1):c&&v&&i.blocked.left?(e.processX(g,a,!0),1):p&&v&&e.blocked.right?(i.processX(-g,l,!1,!0),2):u&&f&&e.blocked.left?(i.processX(g,l,!0),2):0},b=function(t){if(o&&s)g*=.5,0===t||3===t?(e.processX(g,n),i.processX(-g,r)):(e.processX(-g,n),i.processX(g,r));else if(o&&!s)0===t||3===t?e.processX(g,a,!0):e.processX(-g,a,!1,!0);else if(!o&&s)0===t||3===t?i.processX(-g,l,!1,!0):i.processX(g,l,!0);else{var f=.5*g;0===t?y?(e.processX(g,0,!0),i.processX(0,null,!1,!0)):p?(e.processX(f,0,!0),i.processX(-f,0,!1,!0)):(e.processX(f,i.velocity.x,!0),i.processX(-f,null,!1,!0)):1===t?d?(e.processX(0,null,!1,!0),i.processX(g,0,!0)):h?(e.processX(-f,0,!1,!0),i.processX(f,0,!0)):(e.processX(-f,null,!1,!0),i.processX(f,e.velocity.x,!0)):2===t?y?(e.processX(-g,0,!1,!0),i.processX(0,null,!0)):u?(e.processX(-f,0,!1,!0),i.processX(f,0,!0)):(e.processX(-f,i.velocity.x,!1,!0),i.processX(f,null,!0)):3===t&&(d?(e.processX(0,null,!0),i.processX(-g,0,!1,!0)):c?(e.processX(f,0,!0),i.processX(-f,0,!1,!0)):(e.processX(f,i.velocity.y,!0),i.processX(-f,null,!1,!0)))}return!0};t.exports={BlockCheck:m,Check:function(){var t=e.velocity.x,o=i.velocity.x,s=Math.sqrt(o*o*i.mass/e.mass)*(o>0?1:-1),a=Math.sqrt(t*t*e.mass/i.mass)*(t>0?1:-1),l=.5*(s+a);return a-=l,n=l+(s-=l)*e.bounce.x,r=l+a*i.bounce.x,c&&v?b(0):u&&f?b(1):h&&f?b(2):!(!p||!v)&&b(3)},Set:function(t,n,r){i=n;var b=(e=t).velocity.x,x=i.velocity.x;return o=e.pushable,c=e._dx<0,h=e._dx>0,d=0===e._dx,f=Math.abs(e.right-i.x)<=Math.abs(i.right-e.x),a=x-b*e.bounce.x,s=i.pushable,u=i._dx<0,p=i._dx>0,y=0===i._dx,v=!f,l=b-x*i.bounce.x,g=Math.abs(r),m()},Run:b,RunImmovableBody1:function(t){1===t?i.velocity.x=0:f?i.processX(g,l,!0):i.processX(-g,l,!1,!0),e.moves&&(i.y+=(e.y-e.prev.y)*e.friction.y,i._dy=i.y-i.prev.y)},RunImmovableBody2:function(t){2===t?e.velocity.x=0:v?e.processX(g,a,!0):e.processX(-g,a,!1,!0),i.moves&&(e.y+=(i.y-i.prev.y)*i.friction.y,e._dy=e.y-e.prev.y)}}},18740:t=>{var e,i,o,s,n,r,a,l,c,h,d,u,p,y,f,v,g,m=function(){return h&&f&&i.blocked.down?(e.processY(-g,a,!1,!0),1):c&&v&&i.blocked.up?(e.processY(g,a,!0),1):p&&v&&e.blocked.down?(i.processY(-g,l,!1,!0),2):u&&f&&e.blocked.up?(i.processY(g,l,!0),2):0},b=function(t){if(o&&s)g*=.5,0===t||3===t?(e.processY(g,n),i.processY(-g,r)):(e.processY(-g,n),i.processY(g,r));else if(o&&!s)0===t||3===t?e.processY(g,a,!0):e.processY(-g,a,!1,!0);else if(!o&&s)0===t||3===t?i.processY(-g,l,!1,!0):i.processY(g,l,!0);else{var f=.5*g;0===t?y?(e.processY(g,0,!0),i.processY(0,null,!1,!0)):p?(e.processY(f,0,!0),i.processY(-f,0,!1,!0)):(e.processY(f,i.velocity.y,!0),i.processY(-f,null,!1,!0)):1===t?d?(e.processY(0,null,!1,!0),i.processY(g,0,!0)):h?(e.processY(-f,0,!1,!0),i.processY(f,0,!0)):(e.processY(-f,null,!1,!0),i.processY(f,e.velocity.y,!0)):2===t?y?(e.processY(-g,0,!1,!0),i.processY(0,null,!0)):u?(e.processY(-f,0,!1,!0),i.processY(f,0,!0)):(e.processY(-f,i.velocity.y,!1,!0),i.processY(f,null,!0)):3===t&&(d?(e.processY(0,null,!0),i.processY(-g,0,!1,!0)):c?(e.processY(f,0,!0),i.processY(-f,0,!1,!0)):(e.processY(f,i.velocity.y,!0),i.processY(-f,null,!1,!0)))}return!0};t.exports={BlockCheck:m,Check:function(){var t=e.velocity.y,o=i.velocity.y,s=Math.sqrt(o*o*i.mass/e.mass)*(o>0?1:-1),a=Math.sqrt(t*t*e.mass/i.mass)*(t>0?1:-1),l=.5*(s+a);return a-=l,n=l+(s-=l)*e.bounce.y,r=l+a*i.bounce.y,c&&v?b(0):u&&f?b(1):h&&f?b(2):!(!p||!v)&&b(3)},Set:function(t,n,r){i=n;var b=(e=t).velocity.y,x=i.velocity.y;return o=e.pushable,c=e._dy<0,h=e._dy>0,d=0===e._dy,f=Math.abs(e.bottom-i.y)<=Math.abs(i.bottom-e.y),a=x-b*e.bounce.y,s=i.pushable,u=i._dy<0,p=i._dy>0,y=0===i._dy,v=!f,l=b-x*i.bounce.y,g=Math.abs(r),m()},Run:b,RunImmovableBody1:function(t){1===t?i.velocity.y=0:f?i.processY(g,l,!0):i.processY(-g,l,!1,!0),e.moves&&(i.x+=(e.x-e.prev.x)*e.friction.x,i._dx=i.x-i.prev.x)},RunImmovableBody2:function(t){2===t?e.velocity.y=0:v?e.processY(g,a,!0):e.processY(-g,a,!1,!0),i.moves&&(e.x+=(i.x-i.prev.x)*i.friction.x,e._dx=e.x-e.prev.x)}}},27099:(t,e,i)=>{var o=i(67559),s=i(37787);t.exports=function(t,e,i,n){var r=o(t,e,i,n),a=t.immovable,l=e.immovable;if(i||0===r||a&&l||t.customSeparateX||e.customSeparateX)return 0!==r||t.embedded&&e.embedded;var c=s.Set(t,e,r);return a||l?(a?s.RunImmovableBody1(c):l&&s.RunImmovableBody2(c),!0):c>0||s.Check()}},40472:(t,e,i)=>{var o=i(73996),s=i(18740);t.exports=function(t,e,i,n){var r=o(t,e,i,n),a=t.immovable,l=e.immovable;if(i||0===r||a&&l||t.customSeparateY||e.customSeparateY)return 0!==r||t.embedded&&e.embedded;var c=s.Set(t,e,r);return a||l?(a?s.RunImmovableBody1(c):l&&s.RunImmovableBody2(c),!0):c>0||s.Check()}},53651:(t,e,i)=>{var o=i(57133),s=i(69186),n=i(58581),r=i(26813),a=i(17321),l=new s({initialize:function(t,e){var i=e.displayWidth?e.displayWidth:64,o=e.displayHeight?e.displayHeight:64;this.world=t,this.gameObject=e,this.debugShowBody=t.defaults.debugShowStaticBody,this.debugBodyColor=t.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(e.x-i*e.originX,e.y-o*e.originY),this.width=i,this.height=o,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new a(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=a.ZERO,this.allowGravity=!1,this.gravity=a.ZERO,this.bounce=a.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.physicsType=n.STATIC_BODY,this._dx=0,this._dy=0},setGameObject:function(t,e){return t&&t!==this.gameObject&&(this.gameObject.body=null,t.body=this,this.gameObject=t),e&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var t=this.gameObject;return t.getTopLeft(this.position),this.width=t.displayWidth,this.height=t.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(t,e){return void 0===e&&(e=t),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(t,e),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(t,e,i){void 0===i&&(i=!0);var o=this.gameObject;if(!t&&o.frame&&(t=o.frame.realWidth),!e&&o.frame&&(e=o.frame.realHeight),this.world.staticTree.remove(this),this.width=t,this.height=e,this.halfWidth=Math.floor(t/2),this.halfHeight=Math.floor(e/2),i&&o.getCenter){var s=o.displayWidth/2,n=o.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(s-this.halfWidth,n-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(t,e,i){return void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),t>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=t,this.width=2*t,this.height=2*t,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(e,i),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(t,e){var i=this.gameObject;void 0===t&&(t=i.x),void 0===e&&(e=i.y),this.world.staticTree.remove(this),i.setPosition(t,e),i.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return this.isCircle?o(this,t,e):r(this,t,e)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(t){var e=this.position,i=e.x+this.halfWidth,o=e.y+this.halfHeight;this.debugShowBody&&(t.lineStyle(t.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?t.strokeCircle(i,o,this.width/2):t.strokeRect(e.x,e.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(t){return t<=0&&(t=.1),this.mass=t,this},x:{get:function(){return this.position.x},set:function(t){this.world.staticTree.remove(this),this.position.x=t,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(t){this.world.staticTree.remove(this),this.position.y=t,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});t.exports=l},36012:(t,e,i)=>{var o=i(59327),s=i(69186),n=i(58581),r=i(25738),a=i(84262),l=i(53013),c=new s({Extends:a,initialize:function(t,e,i,s){i||s?l(i)?(s=i,i=null,s.internalCreateCallback=this.createCallbackHandler,s.internalRemoveCallback=this.removeCallbackHandler,s.createMultipleCallback=this.createMultipleCallbackHandler,s.classType=r(s,"classType",o)):Array.isArray(i)&&l(i[0])?(s=i,i=null,s.forEach((function(t){t.internalCreateCallback=this.createCallbackHandler,t.internalRemoveCallback=this.removeCallbackHandler,t.createMultipleCallback=this.createMultipleCallbackHandler,t.classType=r(t,"classType",o)}))):s={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler}:s={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:o},this.world=t,this.physicsType=n.STATIC_BODY,a.call(this,e,i,s),this.type="StaticPhysicsGroup"},createCallbackHandler:function(t){t.body||this.world.enableBody(t,n.STATIC_BODY)},removeCallbackHandler:function(t){t.body&&this.world.disableBody(t)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var t=this.children.entries,e=0;e<t.length;e++)t[e].body.reset();return this}});t.exports=c},17693:(t,e,i)=>{var o=i(57999),s=i(58019),n=i(2543),r=i(69186),a=i(95867),l=i(58581),c=i(76914),h=i(26729),d=i(81518),u=i(97026),p=i(35622),y=i(93195),f=i(67559),v=i(73996),g=i(79247),m=i(76076),b=i(80925),x=i(48547),C=i(56015),w=i(75380),S=i(16632),B=i(67661),A=i(27099),_=i(40472),T=i(96609),O=i(53651),M=i(30052),P=i(9329),k=i(17321),E=i(6704),I=new r({Extends:h,initialize:function(t,e){h.call(this),this.scene=t,this.bodies=new T,this.staticBodies=new T,this.pendingDestroy=new T,this.colliders=new x,this.gravity=new k(m(e,"gravity.x",0),m(e,"gravity.y",0)),this.bounds=new w(m(e,"x",0),m(e,"y",0),m(e,"width",t.sys.scale.width),m(e,"height",t.sys.scale.height)),this.checkCollision={up:m(e,"checkCollision.up",!0),down:m(e,"checkCollision.down",!0),left:m(e,"checkCollision.left",!0),right:m(e,"checkCollision.right",!0)},this.fps=m(e,"fps",60),this.fixedStep=m(e,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=m(e,"timeScale",1),this.OVERLAP_BIAS=m(e,"overlapBias",4),this.TILE_BIAS=m(e,"tileBias",16),this.forceX=m(e,"forceX",!1),this.isPaused=m(e,"isPaused",!1),this._total=0,this.drawDebug=m(e,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:m(e,"debugShowBody",!0),debugShowStaticBody:m(e,"debugShowStaticBody",!0),debugShowVelocity:m(e,"debugShowVelocity",!0),bodyDebugColor:m(e,"debugBodyColor",16711935),staticBodyDebugColor:m(e,"debugStaticBodyColor",255),velocityDebugColor:m(e,"debugVelocityColor",65280)},this.maxEntries=m(e,"maxEntries",16),this.useTree=m(e,"useTree",!0),this.tree=new S(this.maxEntries),this.staticTree=new S(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new P,this._tempMatrix2=new P,this.drawDebug&&this.createDebugGraphic()},enable:function(t,e){void 0===e&&(e=l.DYNAMIC_BODY),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var o=t[i];if(o.isParent)for(var s=o.getChildren(),n=0;n<s.length;n++){var r=s[n];r.isParent?this.enable(r,e):this.enableBody(r,e)}else this.enableBody(o,e)}},enableBody:function(t,e){return void 0===e&&(e=l.DYNAMIC_BODY),t.body||(e===l.DYNAMIC_BODY?t.body=new s(this,t):e===l.STATIC_BODY&&(t.body=new O(this,t))),this.add(t.body),t},add:function(t){return t.physicsType===l.DYNAMIC_BODY?this.bodies.set(t):t.physicsType===l.STATIC_BODY&&(this.staticBodies.set(t),this.staticTree.insert(t)),t.enable=!0,t},disable:function(t){Array.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++){var i=t[e];if(i.isParent)for(var o=i.getChildren(),s=0;s<o.length;s++){var n=o[s];n.isParent?this.disable(n):this.disableBody(n.body)}else this.disableBody(i.body)}},disableBody:function(t){this.remove(t),t.enable=!1},remove:function(t){t.physicsType===l.DYNAMIC_BODY?(this.tree.remove(t),this.bodies.delete(t)):t.physicsType===l.STATIC_BODY&&(this.staticBodies.delete(t),this.staticTree.remove(t))},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},setBounds:function(t,e,i,o,s,n,r,a){return this.bounds.setTo(t,e,i,o),void 0!==s&&this.setBoundsCollision(s,n,r,a),this},setBoundsCollision:function(t,e,i,o){return void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===o&&(o=!0),this.checkCollision.left=t,this.checkCollision.right=e,this.checkCollision.up=i,this.checkCollision.down=o,this},pause:function(){return this.isPaused=!0,this.emit(d.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(d.RESUME),this},addCollider:function(t,e,i,o,s){void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=i);var n=new a(this,!1,t,e,i,o,s);return this.colliders.add(n),n},addOverlap:function(t,e,i,o,s){void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=i);var n=new a(this,!0,t,e,i,o,s);return this.colliders.add(n),n},removeCollider:function(t){return this.colliders.remove(t),this},setFPS:function(t){return this.fps=t,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(t,e){if(!this.isPaused&&0!==this.bodies.size){var i,o,s=this._frameTime,n=this._frameTimeMS*this.timeScale;this._elapsed+=e;var r=this.bodies.entries,a=this._elapsed>=n;for(this.fixedStep||(s=.001*e,a=!0,this._elapsed=0),i=0;i<r.length;i++)(o=r[i]).enable&&o.preUpdate(a,s);if(a){this._elapsed-=n,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(r));var l=this.colliders.update();for(i=0;i<l.length;i++){var c=l[i];c.active&&c.update()}this.emit(d.WORLD_STEP,s)}for(;this._elapsed>=n;)this._elapsed-=n,this.step(s)}},step:function(t){var e,i,o=this.bodies.entries,s=o.length;for(e=0;e<s;e++)(i=o[e]).enable&&i.update(t);this.useTree&&(this.tree.clear(),this.tree.load(o));var n=this.colliders.update();for(e=0;e<n.length;e++){var r=n[e];r.active&&r.update()}this.emit(d.WORLD_STEP,t),this.stepsLastFrame++},postUpdate:function(){var t,e,i=this.bodies.entries,o=i.length,s=this.bodies,n=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,t=0;t<o;t++)(e=i[t]).enable&&e.postUpdate();if(this.drawDebug){var r=this.debugGraphic;for(r.clear(),t=0;t<o;t++)(e=i[t]).willDrawDebug()&&e.drawDebug(r);for(o=(i=n.entries).length,t=0;t<o;t++)(e=i[t]).willDrawDebug()&&e.drawDebug(r)}var a=this.pendingDestroy;if(a.size>0){var c=this.tree,h=this.staticTree;for(o=(i=a.entries).length,t=0;t<o;t++)(e=i[t]).physicsType===l.DYNAMIC_BODY?(c.remove(e),s.delete(e)):e.physicsType===l.STATIC_BODY&&(h.remove(e),n.delete(e)),e.world=void 0,e.gameObject=void 0;a.clear()}},updateMotion:function(t,e){t.allowRotation&&this.computeAngularVelocity(t,e),this.computeVelocity(t,e)},computeAngularVelocity:function(t,e){var i=t.angularVelocity,o=t.angularAcceleration,s=t.angularDrag,r=t.maxAngular;o?i+=o*e:t.allowDrag&&s&&(p(i-(s*=e),0,.1)?i-=s:y(i+s,0,.1)?i+=s:i=0);var a=(i=n(i,-r,r))-t.angularVelocity;t.angularVelocity+=a,t.rotation+=t.angularVelocity*e},computeVelocity:function(t,e){var i=t.velocity.x,o=t.acceleration.x,s=t.drag.x,r=t.maxVelocity.x,a=t.velocity.y,l=t.acceleration.y,c=t.drag.y,h=t.maxVelocity.y,d=t.speed,f=t.maxSpeed,v=t.allowDrag,g=t.useDamping;t.allowGravity&&(i+=(this.gravity.x+t.gravity.x)*e,a+=(this.gravity.y+t.gravity.y)*e),o?i+=o*e:v&&s&&(g?(i*=s=Math.pow(s,e),d=Math.sqrt(i*i+a*a),u(d,0,.001)&&(i=0)):p(i-(s*=e),0,.01)?i-=s:y(i+s,0,.01)?i+=s:i=0),l?a+=l*e:v&&c&&(g?(a*=c=Math.pow(c,e),d=Math.sqrt(i*i+a*a),u(d,0,.001)&&(a=0)):p(a-(c*=e),0,.01)?a-=c:y(a+c,0,.01)?a+=c:a=0),i=n(i,-r,r),a=n(a,-h,h),t.velocity.set(i,a),f>-1&&d>f&&(t.velocity.normalize().scale(f),d=f),t.speed=d},separate:function(t,e,i,o,s,n){if(!n&&!t.enable||!e.enable||t.checkCollision.none||e.checkCollision.none||!this.intersects(t,e))return!1;if(i&&!1===i.call(o,t.gameObject,e.gameObject))return!1;if(t.isCircle&&e.isCircle)return this.separateCircle(t,e,s);if(t.isCircle!==e.isCircle){var r=t.isCircle?e:t,a=t.isCircle?t:e,l={x:r.x,y:r.y,right:r.right,bottom:r.bottom},c=a.center;if((c.y<l.y||c.y>l.bottom)&&(c.x<l.x||c.x>l.right))return this.separateCircle(t,e,s)}var h=!1,u=!1;s?(h=A(t,e,s,this.OVERLAP_BIAS),u=_(t,e,s,this.OVERLAP_BIAS)):this.forceX||Math.abs(this.gravity.y+t.gravity.y)<Math.abs(this.gravity.x+t.gravity.x)?(h=A(t,e,s,this.OVERLAP_BIAS),this.intersects(t,e)&&(u=_(t,e,s,this.OVERLAP_BIAS))):(u=_(t,e,s,this.OVERLAP_BIAS),this.intersects(t,e)&&(h=A(t,e,s,this.OVERLAP_BIAS)));var p=h||u;return p&&(s?(t.onOverlap||e.onOverlap)&&this.emit(d.OVERLAP,t.gameObject,e.gameObject,t,e):(t.onCollide||e.onCollide)&&this.emit(d.COLLIDE,t.gameObject,e.gameObject,t,e)),p},separateCircle:function(t,e,i,s){f(t,e,!1,s),v(t,e,!1,s);var n=0;if(t.isCircle!==e.isCircle){var r={x:e.isCircle?t.position.x:e.position.x,y:e.isCircle?t.position.y:e.position.y,right:e.isCircle?t.right:e.right,bottom:e.isCircle?t.bottom:e.bottom},a={x:t.isCircle?t.center.x:e.center.x,y:t.isCircle?t.center.y:e.center.y,radius:t.isCircle?t.halfWidth:e.halfWidth};a.y<r.y?a.x<r.x?n=c(a.x,a.y,r.x,r.y)-a.radius:a.x>r.right&&(n=c(a.x,a.y,r.right,r.y)-a.radius):a.y>r.bottom&&(a.x<r.x?n=c(a.x,a.y,r.x,r.bottom)-a.radius:a.x>r.right&&(n=c(a.x,a.y,r.right,r.bottom)-a.radius)),n*=-1}else n=t.halfWidth+e.halfWidth-c(t.center.x,t.center.y,e.center.x,e.center.y);if(t.overlapR=n,e.overlapR=n,i||0===n||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return 0!==n&&(t.onOverlap||e.onOverlap)&&this.emit(d.OVERLAP,t.gameObject,e.gameObject,t,e),0!==n;var l=t.center.x-e.center.x,h=t.center.y-e.center.y,u=Math.sqrt(Math.pow(l,2)+Math.pow(h,2)),p=(e.center.x-t.center.x)/u||0,y=(e.center.y-t.center.y)/u||0,g=2*(t.velocity.x*p+t.velocity.y*y-e.velocity.x*p-e.velocity.y*y)/(t.mass+e.mass);(t.immovable||e.immovable)&&(g*=2),t.immovable||(t.velocity.x=t.velocity.x-g/t.mass*p,t.velocity.y=t.velocity.y-g/t.mass*y),e.immovable||(e.velocity.x=e.velocity.x+g/e.mass*p,e.velocity.y=e.velocity.y+g/e.mass*y),t.immovable||e.immovable||(n/=2);var m=o(t.center,e.center),x=(n+b.EPSILON)*Math.cos(m),C=(n+b.EPSILON)*Math.sin(m);return t.immovable||(t.x-=x,t.y-=C,t.updateCenter()),e.immovable||(e.x+=x,e.y+=C,e.updateCenter()),t.velocity.x*=t.bounce.x,t.velocity.y*=t.bounce.y,e.velocity.x*=e.bounce.x,e.velocity.y*=e.bounce.y,(t.onCollide||e.onCollide)&&this.emit(d.COLLIDE,t.gameObject,e.gameObject,t,e),!0},intersects:function(t,e){return t!==e&&(t.isCircle||e.isCircle?t.isCircle?e.isCircle?c(t.center.x,t.center.y,e.center.x,e.center.y)<=t.halfWidth+e.halfWidth:this.circleBodyIntersects(t,e):this.circleBodyIntersects(e,t):!(t.right<=e.position.x||t.bottom<=e.position.y||t.position.x>=e.right||t.position.y>=e.bottom))},circleBodyIntersects:function(t,e){var i=n(t.center.x,e.left,e.right),o=n(t.center.y,e.top,e.bottom);return(t.center.x-i)*(t.center.x-i)+(t.center.y-o)*(t.center.y-o)<=t.halfWidth*t.halfWidth},overlap:function(t,e,i,o,s){return void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=i),this.collideObjects(t,e,i,o,s,!0)},collide:function(t,e,i,o,s){return void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=i),this.collideObjects(t,e,i,o,s,!1)},collideObjects:function(t,e,i,o,s,n){var r,a;t.isParent&&void 0===t.physicsType&&(t=t.children.entries),e&&e.isParent&&void 0===e.physicsType&&(e=e.children.entries);var l=Array.isArray(t),c=Array.isArray(e);if(this._total=0,l||c)if(!l&&c)for(r=0;r<e.length;r++)this.collideHandler(t,e[r],i,o,s,n);else if(l&&!c)if(e)for(r=0;r<t.length;r++)this.collideHandler(t[r],e,i,o,s,n);else for(r=0;r<t.length;r++){var h=t[r];for(a=r+1;a<t.length;a++)r!==a&&this.collideHandler(h,t[a],i,o,s,n)}else for(r=0;r<t.length;r++)for(a=0;a<e.length;a++)this.collideHandler(t[r],e[a],i,o,s,n);else this.collideHandler(t,e,i,o,s,n);return this._total>0},collideHandler:function(t,e,i,o,s,n){if(void 0===e&&t.isParent)return this.collideGroupVsGroup(t,t,i,o,s,n);if(!t||!e)return!1;if(t.body){if(e.body)return this.collideSpriteVsSprite(t,e,i,o,s,n);if(e.isParent)return this.collideSpriteVsGroup(t,e,i,o,s,n);if(e.isTilemap)return this.collideSpriteVsTilemapLayer(t,e,i,o,s,n)}else if(t.isParent){if(e.body)return this.collideSpriteVsGroup(e,t,i,o,s,n);if(e.isParent)return this.collideGroupVsGroup(t,e,i,o,s,n);if(e.isTilemap)return this.collideGroupVsTilemapLayer(t,e,i,o,s,n)}else if(t.isTilemap){if(e.body)return this.collideSpriteVsTilemapLayer(e,t,i,o,s,n);if(e.isParent)return this.collideGroupVsTilemapLayer(e,t,i,o,s,n)}},collideSpriteVsSprite:function(t,e,i,o,s,n){return!(!t.body||!e.body||(this.separate(t.body,e.body,o,s,n)&&(i&&i.call(s,t,e),this._total++),0))},collideSpriteVsGroup:function(t,e,i,o,s,n){var r,a,c,h=t.body;if(0!==e.length&&h&&h.enable&&!h.checkCollision.none)if(this.useTree||e.physicsType===l.STATIC_BODY){var d=this.treeMinMax;d.minX=h.left,d.minY=h.top,d.maxX=h.right,d.maxY=h.bottom;var u=e.physicsType===l.DYNAMIC_BODY?this.tree.search(d):this.staticTree.search(d);for(a=u.length,r=0;r<a;r++)h!==(c=u[r])&&c.enable&&!c.checkCollision.none&&e.contains(c.gameObject)&&this.separate(h,c,o,s,n,!0)&&(i&&i.call(s,h.gameObject,c.gameObject),this._total++)}else{var p=e.getChildren(),y=e.children.entries.indexOf(t);for(a=p.length,r=0;r<a;r++)(c=p[r].body)&&r!==y&&c.enable&&this.separate(h,c,o,s,n)&&(i&&i.call(s,h.gameObject,c.gameObject),this._total++)}},collideGroupVsTilemapLayer:function(t,e,i,o,s,n){var r=t.getChildren();if(0===r.length)return!1;for(var a=!1,l=0;l<r.length;l++)r[l].body&&this.collideSpriteVsTilemapLayer(r[l],e,i,o,s,n)&&(a=!0);return a},collideTiles:function(t,e,i,o,s){return!(!t.body.enable||0===e.length)&&this.collideSpriteVsTilesHandler(t,e,i,o,s,!1,!1)},overlapTiles:function(t,e,i,o,s){return!(!t.body.enable||0===e.length)&&this.collideSpriteVsTilesHandler(t,e,i,o,s,!0,!1)},collideSpriteVsTilemapLayer:function(t,e,i,o,s,n){var r=t.body;if(!r.enable||r.checkCollision.none)return!1;var a=r.position.x,l=r.position.y,c=r.width,h=r.height,d=e.layer;if(d.tileWidth>d.baseTileWidth){var u=(d.tileWidth-d.baseTileWidth)*e.scaleX;a-=u,c+=u}d.tileHeight>d.baseTileHeight&&(h+=(d.tileHeight-d.baseTileHeight)*e.scaleY);var p=g(a,l,c,h,null,e.scene.cameras.main,e.layer);return 0!==p.length&&this.collideSpriteVsTilesHandler(t,p,i,o,s,n,!0)},collideSpriteVsTilesHandler:function(t,e,i,o,s,n,r){for(var a,l,c=t.body,h={left:0,right:0,top:0,bottom:0},u=!1,p=0;p<e.length;p++){var y=(l=(a=e[p]).tilemapLayer).tileToWorldXY(a.x,a.y);h.left=y.x,h.top=y.y,a.baseHeight!==a.height&&(h.top-=(a.height-a.baseHeight)*l.scaleY),h.right=h.left+a.width*l.scaleX,h.bottom=h.top+a.height*l.scaleY,M(h,c)&&(!o||o.call(s,t,a))&&C(a,t)&&(n||B(p,c,a,h,l,this.TILE_BIAS,r))&&(this._total++,u=!0,i&&i.call(s,t,a),n&&c.onOverlap?this.emit(d.TILE_OVERLAP,t,a,c):c.onCollide&&this.emit(d.TILE_COLLIDE,t,a,c))}return u},collideGroupVsGroup:function(t,e,i,o,s,n){if(0!==t.length&&0!==e.length)for(var r=t.getChildren(),a=0;a<r.length;a++)this.collideSpriteVsGroup(r[a],e,i,o,s,n)},wrap:function(t,e){t.body?this.wrapObject(t,e):t.getChildren?this.wrapArray(t.getChildren(),e):Array.isArray(t)?this.wrapArray(t,e):this.wrapObject(t,e)},wrapArray:function(t,e){for(var i=0;i<t.length;i++)this.wrapObject(t[i],e)},wrapObject:function(t,e){void 0===e&&(e=0),t.x=E(t.x,this.bounds.left-e,this.bounds.right+e),t.y=E(t.y,this.bounds.top-e,this.bounds.bottom+e)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null}});t.exports=I},1424:t=>{t.exports={setAcceleration:function(t,e){return this.body.acceleration.set(t,e),this},setAccelerationX:function(t){return this.body.acceleration.x=t,this},setAccelerationY:function(t){return this.body.acceleration.y=t,this}}},2091:t=>{t.exports={setAngularVelocity:function(t){return this.body.angularVelocity=t,this},setAngularAcceleration:function(t){return this.body.angularAcceleration=t,this},setAngularDrag:function(t){return this.body.angularDrag=t,this}}},32851:t=>{t.exports={setBounce:function(t,e){return this.body.bounce.set(t,e),this},setBounceX:function(t){return this.body.bounce.x=t,this},setBounceY:function(t){return this.body.bounce.y=t,this},setCollideWorldBounds:function(t,e,i){return this.body.setCollideWorldBounds(t,e,i),this}}},23980:t=>{t.exports={setDebug:function(t,e,i){return this.debugShowBody=t,this.debugShowVelocity=e,this.debugBodyColor=i,this},setDebugBodyColor:function(t){return this.body.debugBodyColor=t,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(t){this.body.debugShowBody=t}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(t){this.body.debugShowVelocity=t}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(t){this.body.debugBodyColor=t}}}},25824:t=>{t.exports={setDrag:function(t,e){return this.body.drag.set(t,e),this},setDragX:function(t){return this.body.drag.x=t,this},setDragY:function(t){return this.body.drag.y=t,this},setDamping:function(t){return this.body.useDamping=t,this}}},2298:t=>{t.exports={enableBody:function(t,e,i,o,s){return t&&this.body.reset(e,i),o&&(this.body.gameObject.active=!0),s&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(t,e){return void 0===t&&(t=!1),void 0===e&&(e=!1),this.body.stop(),this.body.enable=!1,t&&(this.body.gameObject.active=!1),e&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}}},87417:t=>{t.exports={setFriction:function(t,e){return this.body.friction.set(t,e),this},setFrictionX:function(t){return this.body.friction.x=t,this},setFrictionY:function(t){return this.body.friction.y=t,this}}},66386:t=>{t.exports={setGravity:function(t,e){return this.body.gravity.set(t,e),this},setGravityX:function(t){return this.body.gravity.x=t,this},setGravityY:function(t){return this.body.gravity.y=t,this}}},68859:t=>{t.exports={setImmovable:function(t){return void 0===t&&(t=!0),this.body.immovable=t,this}}},60274:t=>{t.exports={setMass:function(t){return this.body.mass=t,this}}},79552:(t,e,i)=>{var o=i(8987),s=i(38459),n=i(19357),r=i(10882);t.exports=function(t,e,i,a,l,c){var h=o(t,e-a,i-a,2*a,2*a,l,c);if(0===h.length)return h;for(var d=new s(e,i,a),u=new s,p=[],y=0;y<h.length;y++){var f=h[y];f.isCircle?(u.setTo(f.center.x,f.center.y,f.halfWidth),n(d,u)&&p.push(f)):r(d,f)&&p.push(f)}return p}},8987:t=>{t.exports=function(t,e,i,o,s,n,r){void 0===n&&(n=!0),void 0===r&&(r=!1);var a=[],l=[],c=t.treeMinMax;if(c.minX=e,c.minY=i,c.maxX=e+o,c.maxY=i+s,r&&(l=t.staticTree.search(c)),n&&t.useTree)a=t.tree.search(c);else if(n){var h=t.bodies,d={position:{x:e,y:i},left:e,top:i,right:e+o,bottom:i+s,isCircle:!1},u=t.intersects;h.iterate((function(t){u(t,d)&&a.push(t)}))}return l.concat(a)}},65562:t=>{t.exports={setPushable:function(t){return void 0===t&&(t=!0),this.body.pushable=t,this}}},85072:t=>{t.exports={setOffset:function(t,e){return this.body.setOffset(t,e),this},setSize:function(t,e,i){return this.body.setSize(t,e,i),this},setBodySize:function(t,e,i){return this.body.setSize(t,e,i),this},setCircle:function(t,e,i){return this.body.setCircle(t,e,i),this}}},98425:t=>{t.exports={setVelocity:function(t,e){return this.body.setVelocity(t,e),this},setVelocityX:function(t){return this.body.setVelocityX(t),this},setVelocityY:function(t){return this.body.setVelocityY(t),this},setMaxVelocity:function(t,e){return this.body.maxVelocity.set(t,e),this}}},768:(t,e,i)=>{t.exports={Acceleration:i(1424),Angular:i(2091),Bounce:i(32851),Debug:i(23980),Drag:i(25824),Enable:i(2298),Friction:i(87417),Gravity:i(66386),Immovable:i(68859),Mass:i(60274),OverlapCirc:i(79552),OverlapRect:i(8987),Pushable:i(65562),Size:i(85072),Velocity:i(98425)}},58581:t=>{t.exports={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14}},95854:t=>{t.exports="collide"},77517:t=>{t.exports="overlap"},10102:t=>{t.exports="pause"},79047:t=>{t.exports="resume"},6106:t=>{t.exports="tilecollide"},57292:t=>{t.exports="tileoverlap"},35877:t=>{t.exports="worldbounds"},69910:t=>{t.exports="worldstep"},81518:(t,e,i)=>{t.exports={COLLIDE:i(95854),OVERLAP:i(77517),PAUSE:i(10102),RESUME:i(79047),TILE_COLLIDE:i(6106),TILE_OVERLAP:i(57292),WORLD_BOUNDS:i(35877),WORLD_STEP:i(69910)}},77216:(t,e,i)=>{var o=i(58581),s=i(72646),n={ArcadePhysics:i(37402),Body:i(58019),Collider:i(95867),Components:i(768),Events:i(81518),Factory:i(6394),GetOverlapX:i(67559),GetOverlapY:i(73996),SeparateX:i(27099),SeparateY:i(40472),Group:i(31188),Image:i(38661),Sprite:i(59327),StaticBody:i(53651),StaticGroup:i(36012),Tilemap:i(46399),World:i(17693)};n=s(!1,n,o),t.exports=n},56015:t=>{t.exports=function(t,e){return t.collisionCallback?!t.collisionCallback.call(t.collisionCallbackContext,e,t):!t.layer.callbacks[t.index]||!t.layer.callbacks[t.index].callback.call(t.layer.callbacks[t.index].callbackContext,e,t)}},64165:t=>{t.exports=function(t,e){e<0?(t.blocked.none=!1,t.blocked.left=!0):e>0&&(t.blocked.none=!1,t.blocked.right=!0),t.position.x-=e,0===t.bounce.x?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x}},82236:t=>{t.exports=function(t,e){e<0?(t.blocked.none=!1,t.blocked.up=!0):e>0&&(t.blocked.none=!1,t.blocked.down=!0),t.position.y-=e,0===t.bounce.y?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y}},67661:(t,e,i)=>{var o=i(30882),s=i(52049),n=i(30052);t.exports=function(t,e,i,r,a,l,c){var h=r.left,d=r.top,u=r.right,p=r.bottom,y=i.faceLeft||i.faceRight,f=i.faceTop||i.faceBottom;if(c||(y=!0,f=!0),!y&&!f)return!1;var v=0,g=0,m=0,b=1;if(e.deltaAbsX()>e.deltaAbsY()?m=-1:e.deltaAbsX()<e.deltaAbsY()&&(b=-1),0!==e.deltaX()&&0!==e.deltaY()&&y&&f&&(m=Math.min(Math.abs(e.position.x-u),Math.abs(e.right-h)),b=Math.min(Math.abs(e.position.y-p),Math.abs(e.bottom-d))),m<b){if(y&&0!==(v=o(e,i,h,u,l,c))&&!n(r,e))return!0;f&&(g=s(e,i,d,p,l,c))}else{if(f&&0!==(g=s(e,i,d,p,l,c))&&!n(r,e))return!0;y&&(v=o(e,i,h,u,l,c))}return 0!==v||0!==g}},30882:(t,e,i)=>{var o=i(64165);t.exports=function(t,e,i,s,n,r){var a=0,l=e.faceLeft,c=e.faceRight,h=e.collideLeft,d=e.collideRight;return r||(l=!0,c=!0,h=!0,d=!0),t.deltaX()<0&&d&&t.checkCollision.left?c&&t.x<s&&(a=t.x-s)<-n&&(a=0):t.deltaX()>0&&h&&t.checkCollision.right&&l&&t.right>i&&(a=t.right-i)>n&&(a=0),0!==a&&(t.customSeparateX?t.overlapX=a:o(t,a)),a}},52049:(t,e,i)=>{var o=i(82236);t.exports=function(t,e,i,s,n,r){var a=0,l=e.faceTop,c=e.faceBottom,h=e.collideUp,d=e.collideDown;return r||(l=!0,c=!0,h=!0,d=!0),t.deltaY()<0&&d&&t.checkCollision.up?c&&t.y<s&&(a=t.y-s)<-n&&(a=0):t.deltaY()>0&&h&&t.checkCollision.down&&l&&t.bottom>i&&(a=t.bottom-i)>n&&(a=0),0!==a&&(t.customSeparateY?t.overlapY=a:o(t,a)),a}},30052:t=>{t.exports=function(t,e){return!(e.right<=t.left||e.bottom<=t.top||e.position.x>=t.right||e.position.y>=t.bottom)}},46399:(t,e,i)=>{var o={ProcessTileCallbacks:i(56015),ProcessTileSeparationX:i(64165),ProcessTileSeparationY:i(82236),SeparateTile:i(67661),TileCheckX:i(30882),TileCheckY:i(52049),TileIntersectsBody:i(30052)};t.exports=o},6864:(t,e,i)=>{t.exports={Arcade:i(77216),Matter:i(4657)}},93519:(t,e,i)=>{var o=i(69186),s=i(17321),n=new o({initialize:function(){this.boundsCenter=new s,this.centerDiff=new s},parseBody:function(t){if(!(t=t.hasOwnProperty("body")?t.body:t).hasOwnProperty("bounds")||!t.hasOwnProperty("centerOfMass"))return!1;var e=this.boundsCenter,i=this.centerDiff,o=t.bounds.max.x-t.bounds.min.x,s=t.bounds.max.y-t.bounds.min.y,n=o*t.centerOfMass.x,r=s*t.centerOfMass.y;return e.set(o/2,s/2),i.set(n-e.x,r-e.y),!0},getTopLeft:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var o=this.boundsCenter,n=this.centerDiff;return new s(e+o.x+n.x,i+o.y+n.y)}return!1},getTopCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var o=this.boundsCenter,n=this.centerDiff;return new s(e+n.x,i+o.y+n.y)}return!1},getTopRight:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var o=this.boundsCenter,n=this.centerDiff;return new s(e-(o.x-n.x),i+o.y+n.y)}return!1},getLeftCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var o=this.boundsCenter,n=this.centerDiff;return new s(e+o.x+n.x,i+n.y)}return!1},getCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var o=this.centerDiff;return new s(e+o.x,i+o.y)}return!1},getRightCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var o=this.boundsCenter,n=this.centerDiff;return new s(e-(o.x-n.x),i+n.y)}return!1},getBottomLeft:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var o=this.boundsCenter,n=this.centerDiff;return new s(e+o.x+n.x,i-(o.y-n.y))}return!1},getBottomCenter:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var o=this.boundsCenter,n=this.centerDiff;return new s(e+n.x,i-(o.y-n.y))}return!1},getBottomRight:function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=0),this.parseBody(t)){var o=this.boundsCenter,n=this.centerDiff;return new s(e-(o.x-n.x),i-(o.y-n.y))}return!1}});t.exports=n},10381:(t,e,i)=>{var o=i(6749);o.Body=i(95982),o.Composite=i(64895),o.World=i(95011),o.Detector=i(72196),o.Grid=i(52514),o.Pairs=i(9888),o.Pair=i(15303),o.Query=i(69382),o.Resolver=i(27459),o.SAT=i(38438),o.Constraint=i(72169),o.Common=i(52188),o.Engine=i(27318),o.Events=i(92326),o.Sleeping=i(24597),o.Plugin=i(69123),o.Bodies=i(4252),o.Composites=i(75472),o.Axes=i(57063),o.Bounds=i(9094),o.Svg=i(33206),o.Vector=i(80127),o.Vertices=i(19275),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,t.exports=o},96830:(t,e,i)=>{var o=i(4252),s=i(69186),n=i(75472),r=i(72169),a=i(33206),l=i(93311),c=i(9400),h=i(67002),d=i(36131),u=i(484),p=i(99942),y=i(69621),f=i(19275),v=new s({initialize:function(t){this.world=t,this.scene=t.scene,this.sys=t.scene.sys},rectangle:function(t,e,i,s,n){var r=o.rectangle(t,e,i,s,n);return this.world.add(r),r},trapezoid:function(t,e,i,s,n,r){var a=o.trapezoid(t,e,i,s,n,r);return this.world.add(a),a},circle:function(t,e,i,s,n){var r=o.circle(t,e,i,s,n);return this.world.add(r),r},polygon:function(t,e,i,s,n){var r=o.polygon(t,e,i,s,n);return this.world.add(r),r},fromVertices:function(t,e,i,s,n,r,a){"string"==typeof i&&(i=f.fromPath(i));var l=o.fromVertices(t,e,i,s,n,r,a);return this.world.add(l),l},fromPhysicsEditor:function(t,e,i,o,s){void 0===s&&(s=!0);var n=u.parseBody(t,e,i,o);return s&&!this.world.has(n)&&this.world.add(n),n},fromSVG:function(t,e,i,s,n,r){void 0===s&&(s=1),void 0===n&&(n={}),void 0===r&&(r=!0);for(var l=i.getElementsByTagName("path"),c=[],h=0;h<l.length;h++){var d=a.pathToVertices(l[h],30);1!==s&&f.scale(d,s,s),c.push(d)}var u=o.fromVertices(t,e,c,n);return r&&this.world.add(u),u},fromJSON:function(t,e,i,o,s){void 0===o&&(o={}),void 0===s&&(s=!0);var n=p.parseBody(t,e,i,o);return n&&s&&this.world.add(n),n},imageStack:function(t,e,i,o,s,r,a,l,h){void 0===a&&(a=0),void 0===l&&(l=0),void 0===h&&(h={});var d=this.world,u=this.sys.displayList;h.addToWorld=!1;var p=n.stack(i,o,s,r,a,l,(function(i,o){var s=new c(d,i,o,t,e,h);return u.add(s),s.body}));return d.add(p),p},stack:function(t,e,i,o,s,r,a){var l=n.stack(t,e,i,o,s,r,a);return this.world.add(l),l},pyramid:function(t,e,i,o,s,r,a){var l=n.pyramid(t,e,i,o,s,r,a);return this.world.add(l),l},chain:function(t,e,i,o,s,r){return n.chain(t,e,i,o,s,r)},mesh:function(t,e,i,o,s){return n.mesh(t,e,i,o,s)},newtonsCradle:function(t,e,i,o,s){var r=n.newtonsCradle(t,e,i,o,s);return this.world.add(r),r},car:function(t,e,i,o,s){var r=n.car(t,e,i,o,s);return this.world.add(r),r},softBody:function(t,e,i,o,s,r,a,l,c,h){var d=n.softBody(t,e,i,o,s,r,a,l,c,h);return this.world.add(d),d},joint:function(t,e,i,o,s){return this.constraint(t,e,i,o,s)},spring:function(t,e,i,o,s){return this.constraint(t,e,i,o,s)},constraint:function(t,e,i,o,s){void 0===o&&(o=1),void 0===s&&(s={}),s.bodyA="body"===t.type?t:t.body,s.bodyB="body"===e.type?e:e.body,isNaN(i)||(s.length=i),s.stiffness=o;var n=r.create(s);return this.world.add(n),n},worldConstraint:function(t,e,i,o){void 0===i&&(i=1),void 0===o&&(o={}),o.bodyB="body"===t.type?t:t.body,isNaN(e)||(o.length=e),o.stiffness=i;var s=r.create(o);return this.world.add(s),s},mouseSpring:function(t){return this.pointerConstraint(t)},pointerConstraint:function(t){void 0===t&&(t={}),t.hasOwnProperty("render")||(t.render={visible:!1});var e=new y(this.scene,this.world,t);return this.world.add(e.constraint),e},image:function(t,e,i,o,s){var n=new c(this.world,t,e,i,o,s);return this.sys.displayList.add(n),n},tileBody:function(t,e){return new d(this.world,t,e)},sprite:function(t,e,i,o,s){var n=new h(this.world,t,e,i,o,s);return this.sys.displayList.add(n),this.sys.updateList.add(n),n},gameObject:function(t,e,i){return l(this.world,t,e,i)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});t.exports=v},93311:(t,e,i)=>{var o=i(7401),s=i(25738),n=i(17321);t.exports=function(t,e,i,r){void 0===i&&(i={}),void 0===r&&(r=!0);var a=e.x,l=e.y;if(e.body={temp:!0,position:{x:a,y:l}},[o.Bounce,o.Collision,o.Force,o.Friction,o.Gravity,o.Mass,o.Sensor,o.SetBody,o.Sleep,o.Static,o.Transform,o.Velocity].forEach((function(t){for(var i in t)(o=t[i]).get&&"function"==typeof o.get||o.set&&"function"==typeof o.set?Object.defineProperty(e,i,{get:t[i].get,set:t[i].set}):Object.defineProperty(e,i,{value:t[i]});var o})),e.world=t,e._tempVec2=new n(a,l),i.hasOwnProperty("type")&&"body"===i.type)e.setExistingBody(i,r);else{var c=s(i,"shape",null);c||(c="rectangle"),i.addToWorld=r,e.setBody(c,i)}return e}},9400:(t,e,i)=>{var o=i(69186),s=i(7401),n=i(38236),r=i(25738),a=i(86479),l=i(99285),c=i(17321),h=new o({Extends:a,Mixins:[s.Bounce,s.Collision,s.Force,s.Friction,s.Gravity,s.Mass,s.Sensor,s.SetBody,s.Sleep,s.Static,s.Transform,s.Velocity,l],initialize:function(t,e,i,o,s,a){n.call(this,t.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(o,s),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new c(e,i);var l=r(a,"shape",null);l?this.setBody(l,a):this.setRectangle(this.width,this.height,a),this.setPosition(e,i),this.initPipeline()}});t.exports=h},54704:(t,e,i)=>{var o=i(68494),s=i(57063),n=i(4252),r=i(95982),a=i(93519),l=i(9094),c=i(69186),h=i(64895),d=i(75472),u=i(72169),p=i(72196),y=i(76914),f=i(96830),v=i(25738),g=i(76076),m=i(52514),b=i(14192),x=i(73189),C=i(6749),w=i(14494),S=i(50247),B=i(15303),A=i(9888),_=i(69123),T=i(46236),O=i(69382),M=i(27459),P=i(38438),k=i(12063),E=i(33206),I=i(80127),D=i(19275),V=i(80827),R=new c({initialize:function(t){this.scene=t,this.systems=t.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=r,this.composite=h,this.detector=p,this.grid=m,this.pair=B,this.pairs=A,this.query=O,this.resolver=M,this.sat=P,this.constraint=u,this.bodies=n,this.composites=d,this.axes=s,this.bounds=l,this.svg=E,this.vector=I,this.vertices=D,this.verts=D,this._tempVec2=I.create(),g(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),g(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),g(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),M._restingThresh=g(this.config,"restingThresh",4),M._restingThreshTangent=g(this.config,"restingThreshTangent",6),M._positionDampen=g(this.config,"positionDampen",.9),M._positionWarming=g(this.config,"positionWarming",.8),M._frictionNormalMultiplier=g(this.config,"frictionNormalMultiplier",5),t.sys.events.once(k.BOOT,this.boot,this),t.sys.events.on(k.START,this.start,this)},boot:function(){this.world=new V(this.scene,this.config),this.add=new f(this.world),this.bodyBounds=new a,this.systems.events.once(k.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new V(this.scene,this.config),this.add=new f(this.world));var t=this.systems.events;t.on(k.UPDATE,this.world.update,this.world),t.on(k.POST_UPDATE,this.world.postUpdate,this.world),t.once(k.SHUTDOWN,this.shutdown,this)},getConfig:function(){var t=this.systems.game.config.physics,e=this.systems.settings.physics;return S(v(e,"matter",{}),v(t,"matter",{}))},enableAttractorPlugin:function(){return _.register(b),_.use(C,b),this},enableWrapPlugin:function(){return _.register(w),_.use(C,w),this},enableCollisionEventsPlugin:function(){return _.register(x),_.use(C,x),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(t,e){this.world.step(t,e)},containsPoint:function(t,e,i){t=this.getMatterBodies(t);var o=I.create(e,i);return O.point(t,o).length>0},intersectPoint:function(t,e,i){i=this.getMatterBodies(i);var o=I.create(t,e),s=[];return O.point(i,o).forEach((function(t){-1===s.indexOf(t)&&s.push(t)})),s},intersectRect:function(t,e,i,o,s,n){void 0===s&&(s=!1),n=this.getMatterBodies(n);var r={min:{x:t,y:e},max:{x:t+i,y:e+o}},a=[];return O.region(n,r,s).forEach((function(t){-1===a.indexOf(t)&&a.push(t)})),a},intersectRay:function(t,e,i,o,s,n){void 0===s&&(s=1),n=this.getMatterBodies(n);for(var r=[],a=O.ray(n,I.create(t,e),I.create(i,o),s),l=0;l<a.length;l++)r.push(a[l].body);return r},intersectBody:function(t,e){e=this.getMatterBodies(e);for(var i=[],o=O.collides(t,e),s=0;s<o.length;s++){var n=o[s];n.bodyA===t?i.push(n.bodyB):i.push(n.bodyA)}return i},overlap:function(t,e,i,o,s){void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=i),Array.isArray(t)||(t=[t]),t=this.getMatterBodies(t),e=this.getMatterBodies(e);for(var n=!1,r=0;r<t.length;r++)for(var a=t[r],l=O.collides(a,e),c=0;c<l.length;c++){var h=l[c],d=h.bodyA.id===a.id?h.bodyB:h.bodyA;if(!o||o.call(s,a,d,h))if(n=!0,i)i.call(s,a,d,h);else if(!o)return!0}return n},setCollisionCategory:function(t,e){return(t=this.getMatterBodies(t)).forEach((function(t){t.collisionFilter.category=e})),this},setCollisionGroup:function(t,e){return(t=this.getMatterBodies(t)).forEach((function(t){t.collisionFilter.group=e})),this},setCollidesWith:function(t,e){t=this.getMatterBodies(t);var i=0;if(Array.isArray(e))for(var o=0;o<e.length;o++)i|=e[o];else i=e;return t.forEach((function(t){t.collisionFilter.mask=i})),this},getMatterBodies:function(t){if(!t)return this.world.getAllBodies();Array.isArray(t)||(t=[t]);for(var e=[],i=0;i<t.length;i++){var o=t[i].hasOwnProperty("body")?t[i].body:t[i];e.push(o)}return e},setVelocity:function(t,e,i){t=this.getMatterBodies(t);var o=this._tempVec2;return o.x=e,o.y=i,t.forEach((function(t){r.setVelocity(t,o)})),this},setVelocityX:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return i.x=e,t.forEach((function(t){i.y=t.velocity.y,r.setVelocity(t,i)})),this},setVelocityY:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return i.y=e,t.forEach((function(t){i.x=t.velocity.x,r.setVelocity(t,i)})),this},setAngularVelocity:function(t,e){return(t=this.getMatterBodies(t)).forEach((function(t){r.setAngularVelocity(t,e)})),this},applyForce:function(t,e){t=this.getMatterBodies(t);var i=this._tempVec2;return t.forEach((function(t){i.x=t.position.x,i.y=t.position.y,r.applyForce(t,i,e)})),this},applyForceFromPosition:function(t,e,i,o){t=this.getMatterBodies(t);var s=this._tempVec2;return t.forEach((function(t){void 0===o&&(o=t.angle),s.x=i*Math.cos(o),s.y=i*Math.sin(o),r.applyForce(t,e,s)})),this},applyForceFromAngle:function(t,e,i){t=this.getMatterBodies(t);var o=this._tempVec2;return t.forEach((function(t){void 0===i&&(i=t.angle),o.x=e*Math.cos(i),o.y=e*Math.sin(i),r.applyForce(t,{x:t.position.x,y:t.position.y},o)})),this},getConstraintLength:function(t){var e=t.pointA.x,i=t.pointA.y,o=t.pointB.x,s=t.pointB.y;return t.bodyA&&(e+=t.bodyA.position.x,i+=t.bodyA.position.y),t.bodyB&&(o+=t.bodyB.position.x,s+=t.bodyB.position.y),y(e,i,o,s)},alignBody:function(t,e,i,s){var n;switch(t=t.hasOwnProperty("body")?t.body:t,s){case o.TOP_LEFT:case o.LEFT_TOP:n=this.bodyBounds.getTopLeft(t,e,i);break;case o.TOP_CENTER:n=this.bodyBounds.getTopCenter(t,e,i);break;case o.TOP_RIGHT:case o.RIGHT_TOP:n=this.bodyBounds.getTopRight(t,e,i);break;case o.LEFT_CENTER:n=this.bodyBounds.getLeftCenter(t,e,i);break;case o.CENTER:n=this.bodyBounds.getCenter(t,e,i);break;case o.RIGHT_CENTER:n=this.bodyBounds.getRightCenter(t,e,i);break;case o.LEFT_BOTTOM:case o.BOTTOM_LEFT:n=this.bodyBounds.getBottomLeft(t,e,i);break;case o.BOTTOM_CENTER:n=this.bodyBounds.getBottomCenter(t,e,i);break;case o.BOTTOM_RIGHT:case o.RIGHT_BOTTOM:n=this.bodyBounds.getBottomRight(t,e,i)}return n&&r.setPosition(t,n),this},shutdown:function(){var t=this.systems.events;this.world&&(t.off(k.UPDATE,this.world.update,this.world),t.off(k.POST_UPDATE,this.world.postUpdate,this.world)),t.off(k.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(k.START,this.start,this),this.scene=null,this.systems=null}});T.register("MatterPhysics",R,"matterPhysics"),t.exports=R},67002:(t,e,i)=>{var o=i(56579),s=i(69186),n=i(7401),r=i(38236),a=i(25738),l=i(99285),c=i(38590),h=i(17321),d=new s({Extends:c,Mixins:[n.Bounce,n.Collision,n.Force,n.Friction,n.Gravity,n.Mass,n.Sensor,n.SetBody,n.Sleep,n.Static,n.Transform,n.Velocity,l],initialize:function(t,e,i,s,n,l){r.call(this,t.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new o(this),this.setTexture(s,n),this.setSizeToFrame(),this.setOrigin(),this.world=t,this._tempVec2=new h(e,i);var c=a(l,"shape",null);c?this.setBody(c,l):this.setRectangle(this.width,this.height,l),this.setPosition(e,i),this.initPipeline()}});t.exports=d},36131:(t,e,i)=>{var o=i(4252),s=i(95982),n=i(69186),r=i(7401),a=i(26729),l=i(25738),c=i(60419),h=i(19275),d=new n({Extends:a,Mixins:[r.Bounce,r.Collision,r.Friction,r.Gravity,r.Mass,r.Sensor,r.Sleep,r.Static],initialize:function(t,e,i){a.call(this),this.tile=e,this.world=t,e.physics.matterBody&&e.physics.matterBody.destroy(),e.physics.matterBody=this;var o=l(i,"body",null),s=l(i,"addToWorld",!0);if(o)this.setBody(o,s);else{var n=e.getCollisionGroup();l(n,"objects",[]).length>0?this.setFromTileCollision(i):this.setFromTileRectangle(i)}},setFromTileRectangle:function(t){void 0===t&&(t={}),c(t,"isStatic")||(t.isStatic=!0),c(t,"addToWorld")||(t.addToWorld=!0);var e=this.tile.getBounds(),i=e.x+e.width/2,s=e.y+e.height/2,n=o.rectangle(i,s,e.width,e.height,t);return this.setBody(n,t.addToWorld),this},setFromTileCollision:function(t){void 0===t&&(t={}),c(t,"isStatic")||(t.isStatic=!0),c(t,"addToWorld")||(t.addToWorld=!0);for(var e=this.tile.tilemapLayer.scaleX,i=this.tile.tilemapLayer.scaleY,n=this.tile.getLeft(),r=this.tile.getTop(),a=this.tile.getCollisionGroup(),d=l(a,"objects",[]),u=[],p=0;p<d.length;p++){var y=d[p],f=n+y.x*e,v=r+y.y*i,g=y.width*e,m=y.height*i,b=null;if(y.rectangle)b=o.rectangle(f+g/2,v+m/2,g,m,t);else if(y.ellipse)b=o.circle(f+g/2,v+m/2,g/2,t);else if(y.polygon||y.polyline){var x=(y.polygon?y.polygon:y.polyline).map((function(t){return{x:t.x*e,y:t.y*i}})),C=h.create(x),w=h.centre(C);f+=w.x,v+=w.y,b=o.fromVertices(f,v,C,t)}b&&u.push(b)}return 1===u.length?this.setBody(u[0],t.addToWorld):u.length>1&&(t.parts=u,this.setBody(s.create(t),t.addToWorld)),this},setBody:function(t,e){return void 0===e&&(e=!0),this.body&&this.removeBody(),this.body=t,this.body.gameObject=this,e&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});t.exports=d},484:(t,e,i)=>{var o=i(4252),s=i(95982),n=i(52188),r=i(25738),a=i(19275),l={parseBody:function(t,e,i,o){void 0===o&&(o={});for(var a=r(i,"fixtures",[]),l=[],c=0;c<a.length;c++)for(var h=this.parseFixture(a[c]),d=0;d<h.length;d++)l.push(h[d]);var u=n.clone(i,!0);n.extend(u,o,!0),delete u.fixtures,delete u.type;var p=s.create(u);return s.setParts(p,l),s.setPosition(p,{x:t,y:e}),p},parseFixture:function(t){var e,i=n.extend({},!1,t);if(delete i.circle,delete i.vertices,t.circle){var s=r(t.circle,"x"),a=r(t.circle,"y"),l=r(t.circle,"radius");e=[o.circle(s,a,l,i)]}else t.vertices&&(e=this.parseVertices(t.vertices,i));return e},parseVertices:function(t,e){void 0===e&&(e={});for(var i=[],r=0;r<t.length;r++)a.clockwiseSort(t[r]),i.push(s.create(n.extend({position:a.centre(t[r]),vertices:t[r]},e)));return o.flagCoincidentParts(i)}};t.exports=l},99942:(t,e,i)=>{var o=i(4252),s=i(95982),n={parseBody:function(t,e,i,n){var r;void 0===n&&(n={});var a=i.vertices;if(1===a.length)n.vertices=a[0],r=s.create(n),o.flagCoincidentParts(r.parts);else{for(var l=[],c=0;c<a.length;c++){var h=s.create({vertices:a[c]});l.push(h)}o.flagCoincidentParts(l),n.parts=l,r=s.create(n)}return r.label=i.label,s.setPosition(r,{x:t,y:e}),r}};t.exports=n},69621:(t,e,i)=>{var o=i(9094),s=i(69186),n=i(64895),r=i(72169),a=i(72196),l=i(9433),c=i(65210),h=i(50247),d=i(24597),u=i(17321),p=i(19275),y=new s({initialize:function(t,e,i){void 0===i&&(i={}),this.scene=t,this.world=e,this.camera=null,this.pointer=null,this.active=!0,this.position=new u,this.body=null,this.part=null,this.constraint=r.create(h(i,{label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}})),this.world.on(l.BEFORE_UPDATE,this.update,this),t.sys.input.on(c.POINTER_DOWN,this.onDown,this),t.sys.input.on(c.POINTER_UP,this.onUp,this)},onDown:function(t){this.pointer||(this.pointer=t,this.camera=t.camera)},onUp:function(t){t===this.pointer&&(this.pointer=null)},getBody:function(t){var e=this.position,i=this.constraint;this.camera.getWorldPoint(t.x,t.y,e);for(var s=n.allBodies(this.world.localWorld),r=0;r<s.length;r++){var c=s[r];if(!c.ignorePointer&&o.contains(c.bounds,e)&&a.canCollide(c.collisionFilter,i.collisionFilter)&&this.hitTestBody(c,e))return this.world.emit(l.DRAG_START,c,this.part,this),!0}return!1},hitTestBody:function(t,e){for(var i=this.constraint,o=t.parts.length,s=o>1?1:0;s<o;s++){var n=t.parts[s];if(p.contains(n.vertices,e))return i.pointA=e,i.pointB={x:e.x-t.position.x,y:e.y-t.position.y},i.bodyB=t,i.angleB=t.angle,d.set(t,!1),this.part=n,this.body=t,!0}return!1},update:function(){var t=this.pointer,e=this.body;if(this.active&&t)if(t.isDown||!e){if(t.isDown){if(!e&&!this.getBody(t))return;e=this.body;var i=this.position,o=this.constraint;this.camera.getWorldPoint(t.x,t.y,i),o.pointA.x=i.x,o.pointA.y=i.y,d.set(e,!1),this.world.emit(l.DRAG,e,this)}}else this.stopDrag();else e&&this.stopDrag()},stopDrag:function(){var t=this.body,e=this.constraint;e.bodyB=null,e.pointB=null,this.pointer=null,this.body=null,this.part=null,t&&this.world.emit(l.DRAG_END,t,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(l.BEFORE_UPDATE,this.update),this.scene.sys.input.off(c.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(c.POINTER_UP,this.onUp,this)}});t.exports=y},80827:(t,e,i)=>{var o=i(4252),s=i(95982),n=i(69186),r=i(52188),a=i(64895),l=i(27318),c=i(26729),h=i(9433),d=i(25738),u=i(76076),p=i(95982),y=i(92326),f=i(36131),v=i(95011),g=i(80127),m=new n({Extends:c,initialize:function(t,e){c.call(this),this.scene=t,this.engine=l.create(e),this.localWorld=this.engine.world;var i=u(e,"gravity",null);i?this.setGravity(i.x,i.y,i.scale):!1===i&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=u(e,"enabled",!0),this.correction=u(e,"correction",1),this.getDelta=u(e,"getDelta",this.update60Hz);var o=d(e,"runner",{}),s=d(o,"fps",!1),n=d(o,"fps",60),r=d(o,"delta",1e3/n),a=d(o,"deltaMin",1e3/n),h=d(o,"deltaMax",1e3/(.5*n));s||(n=1e3/r),this.runner={fps:n,correction:d(o,"correction",1),deltaSampleSize:d(o,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:d(o,"isFixed",!1),delta:r,deltaMin:a,deltaMax:h},this.autoUpdate=u(e,"autoUpdate",!0);var p=u(e,"debug",!1);if(this.drawDebug="object"==typeof p||p,this.debugGraphic,this.debugConfig={showAxes:d(p,"showAxes",!1),showAngleIndicator:d(p,"showAngleIndicator",!1),angleColor:d(p,"angleColor",15208787),showBroadphase:d(p,"showBroadphase",!1),broadphaseColor:d(p,"broadphaseColor",16757760),showBounds:d(p,"showBounds",!1),boundsColor:d(p,"boundsColor",16777215),showVelocity:d(p,"showVelocity",!1),velocityColor:d(p,"velocityColor",44783),showCollisions:d(p,"showCollisions",!1),collisionColor:d(p,"collisionColor",16094476),showSeparations:d(p,"showSeparations",!1),separationColor:d(p,"separationColor",16753920),showBody:d(p,"showBody",!0),showStaticBody:d(p,"showStaticBody",!0),showInternalEdges:d(p,"showInternalEdges",!1),renderFill:d(p,"renderFill",!1),renderLine:d(p,"renderLine",!0),fillColor:d(p,"fillColor",1075465),fillOpacity:d(p,"fillOpacity",1),lineColor:d(p,"lineColor",2678297),lineOpacity:d(p,"lineOpacity",1),lineThickness:d(p,"lineThickness",1),staticFillColor:d(p,"staticFillColor",857979),staticLineColor:d(p,"staticLineColor",1255396),showSleeping:d(p,"showSleeping",!1),staticBodySleepOpacity:d(p,"staticBodySleepOpacity",.7),sleepFillColor:d(p,"sleepFillColor",4605510),sleepLineColor:d(p,"sleepLineColor",10066585),showSensors:d(p,"showSensors",!0),sensorFillColor:d(p,"sensorFillColor",857979),sensorLineColor:d(p,"sensorLineColor",1255396),showPositions:d(p,"showPositions",!0),positionSize:d(p,"positionSize",4),positionColor:d(p,"positionColor",14697178),showJoint:d(p,"showJoint",!0),jointColor:d(p,"jointColor",14737474),jointLineOpacity:d(p,"jointLineOpacity",1),jointLineThickness:d(p,"jointLineThickness",2),pinSize:d(p,"pinSize",4),pinColor:d(p,"pinColor",4382944),springColor:d(p,"springColor",14697184),anchorColor:d(p,"anchorColor",15724527),anchorSize:d(p,"anchorSize",4),showConvexHulls:d(p,"showConvexHulls",!1),hullColor:d(p,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),d(e,"setBounds",!1)){var y=e.setBounds;if("boolean"==typeof y)this.setBounds();else{var f=d(y,"x",0),v=d(y,"y",0),g=d(y,"width",t.sys.scale.width),m=d(y,"height",t.sys.scale.height),b=d(y,"thickness",64),x=d(y,"left",!0),C=d(y,"right",!0),w=d(y,"top",!0),S=d(y,"bottom",!0);this.setBounds(f,v,g,m,b,x,C,w,S)}}},setCompositeRenderStyle:function(t){var e,i,o,s=t.bodies,n=t.constraints,r=t.composites;for(e=0;e<s.length;e++)o=(i=s[e]).render,this.setBodyRenderStyle(i,o.lineColor,o.lineOpacity,o.lineThickness,o.fillColor,o.fillOpacity);for(e=0;e<n.length;e++)o=(i=n[e]).render,this.setConstraintRenderStyle(i,o.lineColor,o.lineOpacity,o.lineThickness,o.pinSize,o.anchorColor,o.anchorSize);for(e=0;e<r.length;e++)i=r[e],this.setCompositeRenderStyle(i);return this},setBodyRenderStyle:function(t,e,i,o,s,n){var r=t.render,a=this.debugConfig;return r?(null==e&&(e=t.isStatic?a.staticLineColor:a.lineColor),null==i&&(i=a.lineOpacity),null==o&&(o=a.lineThickness),null==s&&(s=t.isStatic?a.staticFillColor:a.fillColor),null==n&&(n=a.fillOpacity),!1!==e&&(r.lineColor=e),!1!==i&&(r.lineOpacity=i),!1!==o&&(r.lineThickness=o),!1!==s&&(r.fillColor=s),!1!==n&&(r.fillOpacity=n),this):this},setConstraintRenderStyle:function(t,e,i,o,s,n,r){var a=t.render,l=this.debugConfig;if(!a)return this;if(null==e){var c=a.type;"line"===c?e=l.jointColor:"pin"===c?e=l.pinColor:"spring"===c&&(e=l.springColor)}return null==i&&(i=l.jointLineOpacity),null==o&&(o=l.jointLineThickness),null==s&&(s=l.pinSize),null==n&&(n=l.anchorColor),null==r&&(r=l.anchorSize),!1!==e&&(a.lineColor=e),!1!==i&&(a.lineOpacity=i),!1!==o&&(a.lineThickness=o),!1!==s&&(a.pinSize=s),!1!==n&&(a.anchorColor=n),!1!==r&&(a.anchorSize=r),this},setEventsProxy:function(){var t=this,e=this.engine,i=this.localWorld;this.drawDebug&&(y.on(i,"compositeModified",(function(e){t.setCompositeRenderStyle(e)})),y.on(i,"beforeAdd",(function(e){for(var i=[].concat(e.object),o=0;o<i.length;o++){var s=i[o],n=s.render;"body"===s.type?t.setBodyRenderStyle(s,n.lineColor,n.lineOpacity,n.lineThickness,n.fillColor,n.fillOpacity):"composite"===s.type?t.setCompositeRenderStyle(s):"constraint"===s.type&&t.setConstraintRenderStyle(s,n.lineColor,n.lineOpacity,n.lineThickness,n.pinSize,n.anchorColor,n.anchorSize)}}))),y.on(i,"beforeAdd",(function(e){t.emit(h.BEFORE_ADD,e)})),y.on(i,"afterAdd",(function(e){t.emit(h.AFTER_ADD,e)})),y.on(i,"beforeRemove",(function(e){t.emit(h.BEFORE_REMOVE,e)})),y.on(i,"afterRemove",(function(e){t.emit(h.AFTER_REMOVE,e)})),y.on(e,"beforeUpdate",(function(e){t.emit(h.BEFORE_UPDATE,e)})),y.on(e,"afterUpdate",(function(e){t.emit(h.AFTER_UPDATE,e)})),y.on(e,"collisionStart",(function(e){var i,o,s=e.pairs;s.length>0&&(i=s[0].bodyA,o=s[0].bodyB),t.emit(h.COLLISION_START,e,i,o)})),y.on(e,"collisionActive",(function(e){var i,o,s=e.pairs;s.length>0&&(i=s[0].bodyA,o=s[0].bodyB),t.emit(h.COLLISION_ACTIVE,e,i,o)})),y.on(e,"collisionEnd",(function(e){var i,o,s=e.pairs;s.length>0&&(i=s[0].bodyA,o=s[0].bodyB),t.emit(h.COLLISION_END,e,i,o)}))},setBounds:function(t,e,i,o,s,n,r,a,l){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===o&&(o=this.scene.sys.scale.height),void 0===s&&(s=64),void 0===n&&(n=!0),void 0===r&&(r=!0),void 0===a&&(a=!0),void 0===l&&(l=!0),this.updateWall(n,"left",t-s,e-s,s,o+2*s),this.updateWall(r,"right",t+i,e-s,s,o+2*s),this.updateWall(a,"top",t,e-s,i,s),this.updateWall(l,"bottom",t,e+o,i,s),this},updateWall:function(t,e,i,o,s,n){var r=this.walls[e];t?(r&&v.remove(this.localWorld,r),i+=s/2,o+=n/2,this.walls[e]=this.create(i,o,s,n,{isStatic:!0,friction:0,frictionStatic:0})):(r&&v.remove(this.localWorld,r),this.walls[e]=null)},createDebugGraphic:function(){var t=this.scene.sys.add.graphics({x:0,y:0});return t.setDepth(Number.MAX_VALUE),this.debugGraphic=t,this.drawDebug=!0,t},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=1),this.localWorld.gravity.x=t,this.localWorld.gravity.y=e,void 0!==i&&(this.localWorld.gravity.scale=i),this},create:function(t,e,i,s,n){var r=o.rectangle(t,e,i,s,n);return v.add(this.localWorld,r),r},add:function(t){return v.add(this.localWorld,t),this},remove:function(t,e){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var o=t[i],s=o.body?o.body:o;a.remove(this.localWorld,s,e)}return this},removeConstraint:function(t,e){return a.remove(this.localWorld,t,e),this},convertTilemapLayer:function(t,e){var i=t.layer,o=t.getTilesWithin(0,0,i.width,i.height,{isColliding:!0});return this.convertTiles(o,e),this},convertTiles:function(t,e){if(0===t.length)return this;for(var i=0;i<t.length;i++)new f(this,t[i],e);return this},nextGroup:function(t){return p.nextGroup(t)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(h.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(h.RESUME),this},update:function(t,e){if(this.enabled&&this.autoUpdate){var i=this.engine,o=this.runner,s=i.timing,n=this.correction;o.isFixed?e=this.getDelta(t,e):(e=t-o.timePrev||o.delta,o.timePrev=t,o.deltaHistory.push(e),o.deltaHistory=o.deltaHistory.slice(-o.deltaSampleSize),n=(e=(e=(e=Math.min.apply(null,o.deltaHistory))<o.deltaMin?o.deltaMin:e)>o.deltaMax?o.deltaMax:e)/o.delta,o.delta=e),0!==o.timeScalePrev&&(n*=s.timeScale/o.timeScalePrev),0===s.timeScale&&(n=0),o.timeScalePrev=s.timeScale,o.correction=n,o.frameCounter+=1,t-o.counterTimestamp>=1e3&&(o.fps=o.frameCounter*((t-o.counterTimestamp)/1e3),o.counterTimestamp=t,o.frameCounter=0),l.update(i,e,n)}},step:function(t,e){l.update(this.engine,t,e)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(t){var e=t.hasOwnProperty("body")?t.body:t;return null!==a.get(this.localWorld,e.id,e.type)},getAllBodies:function(){return a.allBodies(this.localWorld)},getAllConstraints:function(){return a.allConstraints(this.localWorld)},getAllComposites:function(){return a.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var t=this.debugConfig,e=this.engine,i=this.debugGraphic,o=a.allBodies(this.localWorld);this.debugGraphic.clear(),t.showBroadphase&&e.broadphase.controller&&this.renderGrid(e.broadphase,i,t.broadphaseColor,.5),t.showBounds&&this.renderBodyBounds(o,i,t.boundsColor,.5),(t.showBody||t.showStaticBody)&&this.renderBodies(o),t.showJoint&&this.renderJoints(),(t.showAxes||t.showAngleIndicator)&&this.renderBodyAxes(o,i,t.showAxes,t.angleColor,.5),t.showVelocity&&this.renderBodyVelocity(o,i,t.velocityColor,1,2),t.showSeparations&&this.renderSeparations(e.pairs.list,i,t.separationColor),t.showCollisions&&this.renderCollisions(e.pairs.list,i,t.collisionColor)}},renderGrid:function(t,e,i,o){e.lineStyle(1,i,o);for(var s=r.keys(t.buckets),n=0;n<s.length;n++){var a=s[n];if(!(t.buckets[a].length<2)){var l=a.split(/C|R/);e.strokeRect(parseInt(l[1],10)*t.bucketWidth,parseInt(l[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}return this},renderSeparations:function(t,e,i){e.lineStyle(1,i,1);for(var o=0;o<t.length;o++){var s=t[o];if(s.isActive){var n=s.collision,r=n.bodyA,a=n.bodyB,l=r.position,c=a.position,h=n.penetration,d=r.isStatic||a.isStatic?1:4;a.isStatic&&(d=0),e.lineBetween(c.x,c.y,c.x-h.x*d,c.y-h.y*d),d=r.isStatic||a.isStatic?1:4,r.isStatic&&(d=0),e.lineBetween(l.x,l.y,l.x-h.x*d,l.y-h.y*d)}}return this},renderCollisions:function(t,e,i){var o,s;for(e.lineStyle(1,i,.5),e.fillStyle(i,1),o=0;o<t.length;o++)if((s=t[o]).isActive)for(var n=0;n<s.activeContacts.length;n++){var r=s.activeContacts[n].vertex;e.fillRect(r.x-2,r.y-2,5,5)}for(o=0;o<t.length;o++)if((s=t[o]).isActive){var a=s.collision,l=s.activeContacts;if(l.length>0){var c=l[0].vertex.x,h=l[0].vertex.y;2===l.length&&(c=(l[0].vertex.x+l[1].vertex.x)/2,h=(l[0].vertex.y+l[1].vertex.y)/2),a.bodyB===a.supports[0].body||a.bodyA.isStatic?e.lineBetween(c-8*a.normal.x,h-8*a.normal.y,c,h):e.lineBetween(c+8*a.normal.x,h+8*a.normal.y,c,h)}}return this},renderBodyBounds:function(t,e,i,o){e.lineStyle(1,i,o);for(var s=0;s<t.length;s++){var n=t[s];if(n.render.visible){var r=n.bounds;if(r)e.strokeRect(r.min.x,r.min.y,r.max.x-r.min.x,r.max.y-r.min.y);else for(var a=n.parts,l=a.length>1?1:0;l<a.length;l++){var c=a[l];e.strokeRect(c.bounds.min.x,c.bounds.min.y,c.bounds.max.x-c.bounds.min.x,c.bounds.max.y-c.bounds.min.y)}}}return this},renderBodyAxes:function(t,e,i,o,s){e.lineStyle(1,o,s);for(var n=0;n<t.length;n++){var r,a,l,c=t[n],h=c.parts;if(c.render.visible)if(i)for(a=h.length>1?1:0;a<h.length;a++)for(r=h[a],l=0;l<r.axes.length;l++){var d=r.axes[l];e.lineBetween(r.position.x,r.position.y,r.position.x+20*d.x,r.position.y+20*d.y)}else for(a=h.length>1?1:0;a<h.length;a++)for(r=h[a],l=0;l<r.axes.length;l++)e.lineBetween(r.position.x,r.position.y,(r.vertices[0].x+r.vertices[r.vertices.length-1].x)/2,(r.vertices[0].y+r.vertices[r.vertices.length-1].y)/2)}return this},renderBodyVelocity:function(t,e,i,o,s){e.lineStyle(s,i,o);for(var n=0;n<t.length;n++){var r=t[n];r.render.visible&&e.lineBetween(r.position.x,r.position.y,r.position.x+2*(r.position.x-r.positionPrev.x),r.position.y+2*(r.position.y-r.positionPrev.y))}return this},renderBodies:function(t){for(var e=this.debugGraphic,i=this.debugConfig,o=i.showBody,s=i.showStaticBody,n=i.showSleeping,r=i.showInternalEdges,a=i.showConvexHulls,l=i.renderFill,c=i.renderLine,h=i.staticBodySleepOpacity,d=i.sleepFillColor,u=i.sleepLineColor,p=i.hullColor,y=0;y<t.length;y++){var f=t[y];if(f.render.visible&&(s||!f.isStatic)&&(o||f.isStatic)){var v=f.render.lineColor,g=f.render.lineOpacity,m=f.render.lineThickness,b=f.render.fillColor,x=f.render.fillOpacity;n&&f.isSleeping&&(f.isStatic?(g*=h,x*=h):(v=u,b=d)),l||(b=null),c||(v=null),this.renderBody(f,e,r,v,g,m,b,x);var C=f.parts.length;a&&C>1&&this.renderConvexHull(f,e,p,m)}}},renderBody:function(t,e,i,o,s,n,r,a){void 0===o&&(o=null),void 0===s&&(s=null),void 0===n&&(n=1),void 0===r&&(r=null),void 0===a&&(a=null);for(var l=this.debugConfig,c=l.sensorFillColor,h=l.sensorLineColor,d=t.parts,u=d.length,p=u>1?1:0;p<u;p++){var y=d[p],f=y.render,v=f.opacity;if(f.visible&&0!==v&&(!y.isSensor||l.showSensors)){var g=y.circleRadius;if(e.beginPath(),y.isSensor?(null!==r&&e.fillStyle(c,a*v),null!==o&&e.lineStyle(n,h,s*v)):(null!==r&&e.fillStyle(r,a*v),null!==o&&e.lineStyle(n,o,s*v)),g)e.arc(y.position.x,y.position.y,g,0,2*Math.PI);else{var m=y.vertices,b=m.length;e.moveTo(m[0].x,m[0].y);for(var x=1;x<b;x++){var C=m[x];if(!m[x-1].isInternal||i?e.lineTo(C.x,C.y):e.moveTo(C.x,C.y),x<b&&C.isInternal&&!i){var w=(x+1)%b;e.moveTo(m[w].x,m[w].y)}}e.closePath()}null!==r&&e.fillPath(),null!==o&&e.strokePath()}}if(l.showPositions&&!t.isStatic){var S=t.position.x,B=t.position.y,A=Math.ceil(l.positionSize/2);e.fillStyle(l.positionColor,1),e.fillRect(S-A,B-A,l.positionSize,l.positionSize)}return this},renderConvexHull:function(t,e,i,o){if(void 0===o&&(o=1),t.parts.length>1){var s=t.vertices;e.lineStyle(o,i),e.beginPath(),e.moveTo(s[0].x,s[0].y);for(var n=1;n<s.length;n++)e.lineTo(s[n].x,s[n].y);e.lineTo(s[0].x,s[0].y),e.strokePath()}return this},renderJoints:function(){for(var t=this.debugGraphic,e=a.allConstraints(this.localWorld),i=0;i<e.length;i++){var o=e[i].render,s=o.lineColor,n=o.lineOpacity,r=o.lineThickness,l=o.pinSize,c=o.anchorColor,h=o.anchorSize;this.renderConstraint(e[i],t,s,n,r,l,c,h)}},renderConstraint:function(t,e,i,o,s,n,a,l){var c=t.render;if(!c.visible||!t.pointA||!t.pointB)return this;e.lineStyle(s,i,o);var h,d,u=t.bodyA,p=t.bodyB;if(h=u?g.add(u.position,t.pointA):t.pointA,"pin"===c.type)e.strokeCircle(h.x,h.y,n);else{if(d=p?g.add(p.position,t.pointB):t.pointB,e.beginPath(),e.moveTo(h.x,h.y),"spring"===c.type)for(var y,f=g.sub(d,h),v=g.perp(g.normalise(f)),m=Math.ceil(r.clamp(t.length/5,12,20)),b=1;b<m;b+=1)y=b%2==0?1:-1,e.lineTo(h.x+f.x*(b/m)+v.x*y*4,h.y+f.y*(b/m)+v.y*y*4);e.lineTo(d.x,d.y)}return e.strokePath(),c.anchors&&l>0&&(e.fillStyle(a),e.fillCircle(h.x,h.y,l),e.fillCircle(d.x,d.y,l)),this},resetCollisionIDs:function(){return s._nextCollidingGroupId=1,s._nextNonCollidingGroupId=-1,s._nextCategory=1,this},shutdown:function(){y.off(this.engine),this.removeAllListeners(),v.clear(this.localWorld,!1),l.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});t.exports=m},1205:t=>{t.exports={setBounce:function(t){return this.body.restitution=t,this}}},60900:t=>{var e={setCollisionCategory:function(t){return this.body.collisionFilter.category=t,this},setCollisionGroup:function(t){return this.body.collisionFilter.group=t,this},setCollidesWith:function(t){var e=0;if(Array.isArray(t))for(var i=0;i<t.length;i++)e|=t[i];else e=t;return this.body.collisionFilter.mask=e,this},setOnCollide:function(t){return this.body.onCollideCallback=t,this},setOnCollideEnd:function(t){return this.body.onCollideEndCallback=t,this},setOnCollideActive:function(t){return this.body.onCollideActiveCallback=t,this},setOnCollideWith:function(t,e){Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var o=t[i].hasOwnProperty("body")?t[i].body:t[i];this.body.setOnCollideWith(o,e)}return this}};t.exports=e},56969:(t,e,i)=>{var o=i(95982),s={applyForce:function(t){return this._tempVec2.set(this.body.position.x,this.body.position.y),o.applyForce(this.body,this._tempVec2,t),this},applyForceFrom:function(t,e){return o.applyForce(this.body,t,e),this},thrust:function(t){var e=this.body.angle;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(t){var e=this.body.angle-Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(t){var e=this.body.angle+Math.PI/2;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(t){var e=this.body.angle-Math.PI;return this._tempVec2.set(t*Math.cos(e),t*Math.sin(e)),o.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};t.exports=s},70225:t=>{t.exports={setFriction:function(t,e,i){return this.body.friction=t,void 0!==e&&(this.body.frictionAir=e),void 0!==i&&(this.body.frictionStatic=i),this},setFrictionAir:function(t){return this.body.frictionAir=t,this},setFrictionStatic:function(t){return this.body.frictionStatic=t,this}}},93:t=>{t.exports={setIgnoreGravity:function(t){return this.body.ignoreGravity=t,this}}},65573:(t,e,i)=>{var o=i(95982),s=i(17321),n={setMass:function(t){return o.setMass(this.body,t),this},setDensity:function(t){return o.setDensity(this.body,t),this},centerOfMass:{get:function(){return new s(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};t.exports=n},7496:t=>{t.exports={setSensor:function(t){return this.body.isSensor=t,this},isSensor:function(){return this.body.isSensor}}},19162:(t,e,i)=>{var o=i(4252),s=i(95982),n=i(97026),r=i(25738),a=i(484),l=i(99942),c=i(19275),h={setRectangle:function(t,e,i){return this.setBody({type:"rectangle",width:t,height:e},i)},setCircle:function(t,e){return this.setBody({type:"circle",radius:t},e)},setPolygon:function(t,e,i){return this.setBody({type:"polygon",sides:e,radius:t},i)},setTrapezoid:function(t,e,i,o){return this.setBody({type:"trapezoid",width:t,height:e,slope:i},o)},setExistingBody:function(t,e){void 0===e&&(e=!0),this.body&&this.world.remove(this.body,!0),this.body=t;for(var i=0;i<t.parts.length;i++)t.parts[i].gameObject=this;var o=this;if(t.destroy=function(){o.world.remove(o.body,!0),o.body.gameObject=null},e&&(this.world.has(t)&&this.world.remove(t,!0),this.world.add(t)),this._originComponent){var s=t.render.sprite.xOffset,r=t.render.sprite.yOffset,a=t.centerOfMass.x,l=t.centerOfMass.y;if(n(a,.5)&&n(l,.5))this.setOrigin(s+.5,r+.5);else{var c=t.centerOffset.x,h=t.centerOffset.y;this.setOrigin(s+c/this.displayWidth,r+h/this.displayHeight)}}return this},setBody:function(t,e){if(!t)return this;var i;"string"==typeof t&&(t={type:t});var n=r(t,"type","rectangle"),h=r(t,"x",this._tempVec2.x),d=r(t,"y",this._tempVec2.y),u=r(t,"width",this.width),p=r(t,"height",this.height);switch(n){case"rectangle":i=o.rectangle(h,d,u,p,e);break;case"circle":var y=r(t,"radius",Math.max(u,p)/2),f=r(t,"maxSides",25);i=o.circle(h,d,y,e,f);break;case"trapezoid":var v=r(t,"slope",.5);i=o.trapezoid(h,d,u,p,v,e);break;case"polygon":var g=r(t,"sides",5),m=r(t,"radius",Math.max(u,p)/2);i=o.polygon(h,d,g,m,e);break;case"fromVertices":case"fromVerts":var b=r(t,"verts",null);if(b)if("string"==typeof b&&(b=c.fromPath(b)),this.body&&!this.body.hasOwnProperty("temp"))s.setVertices(this.body,b),i=this.body;else{var x=r(t,"flagInternal",!1),C=r(t,"removeCollinear",.01),w=r(t,"minimumArea",10);i=o.fromVertices(h,d,b,e,x,C,w)}break;case"fromPhysicsEditor":i=a.parseBody(h,d,t,e);break;case"fromPhysicsTracer":i=l.parseBody(h,d,t,e)}return i&&this.setExistingBody(i,t.addToWorld),this}};t.exports=h},99929:(t,e,i)=>{var o=i(9433),s=i(24597),n=i(92326),r={setToSleep:function(){return s.set(this.body,!0),this},setAwake:function(){return s.set(this.body,!1),this},setSleepThreshold:function(t){return void 0===t&&(t=60),this.body.sleepThreshold=t,this},setSleepEvents:function(t,e){return this.setSleepStartEvent(t),this.setSleepEndEvent(e),this},setSleepStartEvent:function(t){if(t){var e=this.world;n.on(this.body,"sleepStart",(function(t){e.emit(o.SLEEP_START,t,this)}))}else n.off(this.body,"sleepStart");return this},setSleepEndEvent:function(t){if(t){var e=this.world;n.on(this.body,"sleepEnd",(function(t){e.emit(o.SLEEP_END,t,this)}))}else n.off(this.body,"sleepEnd");return this}};t.exports=r},65730:(t,e,i)=>{var o=i(95982),s={setStatic:function(t){return o.setStatic(this.body,t),this},isStatic:function(){return this.body.isStatic}};t.exports=s},9766:(t,e,i)=>{var o=i(95982),s=i(80925),n=i(12784),r=i(7011),a={x:{get:function(){return this.body.position.x},set:function(t){this._tempVec2.set(t,this.y),o.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(t){this._tempVec2.set(this.x,t),o.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(t){var e=1/this._scaleX,i=1/this._scaleY;this._scaleX=t,0===this._scaleX?this.renderFlags&=-5:this.renderFlags|=4,o.scale(this.body,e,i),o.scale(this.body,t,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(t){var e=1/this._scaleX,i=1/this._scaleY;this._scaleY=t,0===this._scaleY?this.renderFlags&=-5:this.renderFlags|=4,o.scale(this.body,e,i),o.scale(this.body,this._scaleX,t)}},angle:{get:function(){return r(this.body.angle*s.RAD_TO_DEG)},set:function(t){this.rotation=r(t)*s.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(t){this._rotation=n(t),o.setAngle(this.body,this._rotation)}},setPosition:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._tempVec2.set(t,e),o.setPosition(this.body,this._tempVec2),this},setRotation:function(t){return void 0===t&&(t=0),this._rotation=n(t),o.setAngle(this.body,t),this},setFixedRotation:function(){return o.setInertia(this.body,1/0),this},setAngle:function(t){return void 0===t&&(t=0),this.angle=t,o.setAngle(this.body,this.rotation),this},setScale:function(t,e,i){void 0===t&&(t=1),void 0===e&&(e=t);var s=1/this._scaleX,n=1/this._scaleY;return this._scaleX=t,this._scaleY=e,o.scale(this.body,s,n,i),o.scale(this.body,t,e,i),this}};t.exports=a},98353:(t,e,i)=>{var o=i(95982),s={setAngularVelocity:function(t){return o.setAngularVelocity(this.body,t),this},setVelocityX:function(t){return this._tempVec2.set(t,this.body.velocity.y),o.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(t){return this._tempVec2.set(this.body.velocity.x,t),o.setVelocity(this.body,this._tempVec2),this},setVelocity:function(t,e){return this._tempVec2.set(t,e),o.setVelocity(this.body,this._tempVec2),this}};t.exports=s},7401:(t,e,i)=>{t.exports={Bounce:i(1205),Collision:i(60900),Force:i(56969),Friction:i(70225),Gravity:i(93),Mass:i(65573),Sensor:i(7496),SetBody:i(19162),Sleep:i(99929),Static:i(65730),Transform:i(9766),Velocity:i(98353)}},54576:t=>{t.exports="afteradd"},21845:t=>{t.exports="afterremove"},31906:t=>{t.exports="afterupdate"},43604:t=>{t.exports="beforeadd"},65657:t=>{t.exports="beforeremove"},16003:t=>{t.exports="beforeupdate"},62805:t=>{t.exports="collisionactive"},77823:t=>{t.exports="collisionend"},91551:t=>{t.exports="collisionstart"},18921:t=>{t.exports="dragend"},12526:t=>{t.exports="drag"},13606:t=>{t.exports="dragstart"},51638:t=>{t.exports="pause"},76779:t=>{t.exports="resume"},80565:t=>{t.exports="sleepend"},87590:t=>{t.exports="sleepstart"},9433:(t,e,i)=>{t.exports={AFTER_ADD:i(54576),AFTER_REMOVE:i(21845),AFTER_UPDATE:i(31906),BEFORE_ADD:i(43604),BEFORE_REMOVE:i(65657),BEFORE_UPDATE:i(16003),COLLISION_ACTIVE:i(62805),COLLISION_END:i(77823),COLLISION_START:i(91551),DRAG_END:i(18921),DRAG:i(12526),DRAG_START:i(13606),PAUSE:i(51638),RESUME:i(76779),SLEEP_END:i(80565),SLEEP_START:i(87590)}},4657:(t,e,i)=>{t.exports={BodyBounds:i(93519),Components:i(7401),Events:i(9433),Factory:i(96830),MatterGameObject:i(93311),Image:i(9400),Matter:i(10381),MatterPhysics:i(54704),PolyDecomp:i(25289),Sprite:i(67002),TileBody:i(36131),PhysicsEditorParser:i(484),PhysicsJSONParser:i(99942),PointerConstraint:i(69621),World:i(80827)}},95982:(t,e,i)=>{var o={};t.exports=o;var s=i(19275),n=i(80127),r=i(24597),a=i(52188),l=i(9094),c=i(57063);!function(){o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o.create=function(e){var i={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},previousPositionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!e.hasOwnProperty("position")&&e.hasOwnProperty("vertices")?e.position=s.centre(e.vertices):e.hasOwnProperty("vertices")||(i.vertices=s.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var o=a.extend(i,e);return t(o,e),o.setOnCollideWith=function(t,e){return e?this.onCollideWith[t.id]=e:delete this.onCollideWith[t.id],this},o},o.nextGroup=function(t){return t?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var t=function(t,e){e=e||{},o.set(t,{bounds:t.bounds||l.create(t.vertices),positionPrev:t.positionPrev||n.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t});var i=t.bounds;if(s.rotate(t.vertices,t.angle,t.position),c.rotate(t.axes,t.angle),l.update(i,t.vertices,t.velocity),o.set(t,{axes:e.axes||t.axes,area:e.area||t.area,mass:e.mass||t.mass,inertia:e.inertia||t.inertia}),1===t.parts.length){var r=t.centerOfMass,a=t.centerOffset,h=i.max.x-i.min.x,d=i.max.y-i.min.y;r.x=-(i.min.x-t.position.x)/h,r.y=-(i.min.y-t.position.y)/d,a.x=h*r.x,a.y=d*r.y}};o.set=function(t,e,i){var s;for(s in"string"==typeof e&&(s=e,(e={})[s]=i),e)if(Object.prototype.hasOwnProperty.call(e,s))switch(i=e[s],s){case"isStatic":o.setStatic(t,i);break;case"isSleeping":r.set(t,i);break;case"mass":o.setMass(t,i);break;case"density":o.setDensity(t,i);break;case"inertia":o.setInertia(t,i);break;case"vertices":o.setVertices(t,i);break;case"position":o.setPosition(t,i);break;case"angle":o.setAngle(t,i);break;case"velocity":o.setVelocity(t,i);break;case"angularVelocity":o.setAngularVelocity(t,i);break;case"parts":o.setParts(t,i);break;case"centre":o.setCentre(t,i);break;default:t[s]=i}},o.setStatic=function(t,e){for(var i=0;i<t.parts.length;i++){var o=t.parts[i];o.isStatic=e,e?(o._original={restitution:o.restitution,friction:o.friction,mass:o.mass,inertia:o.inertia,density:o.density,inverseMass:o.inverseMass,inverseInertia:o.inverseInertia},o.restitution=0,o.friction=1,o.mass=o.inertia=o.density=1/0,o.inverseMass=o.inverseInertia=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.angularVelocity=0,o.speed=0,o.angularSpeed=0,o.motion=0):o._original&&(o.restitution=o._original.restitution,o.friction=o._original.friction,o.mass=o._original.mass,o.inertia=o._original.inertia,o.density=o._original.density,o.inverseMass=o._original.inverseMass,o.inverseInertia=o._original.inverseInertia,o._original=null)}},o.setMass=function(t,e){var i=t.inertia/(t.mass/6);t.inertia=i*(e/6),t.inverseInertia=1/t.inertia,t.mass=e,t.inverseMass=1/t.mass,t.density=t.mass/t.area},o.setDensity=function(t,e){o.setMass(t,e*t.area),t.density=e},o.setInertia=function(t,e){t.inertia=e,t.inverseInertia=1/t.inertia},o.setVertices=function(t,e){e[0].body===t?t.vertices=e:t.vertices=s.create(e,t),t.axes=c.fromVertices(t.vertices),t.area=s.area(t.vertices),o.setMass(t,t.density*t.area);var i=s.centre(t.vertices);s.translate(t.vertices,i,-1),o.setInertia(t,o._inertiaScale*s.inertia(t.vertices,t.mass)),s.translate(t.vertices,t.position),l.update(t.bounds,t.vertices,t.velocity)},o.setParts=function(t,e,i){var n;for(e=e.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,n=0;n<e.length;n++){var r=e[n];r!==t&&(r.parent=t,t.parts.push(r))}if(1!==t.parts.length){if(i=void 0===i||i){var a=[];for(n=0;n<e.length;n++)a=a.concat(e[n].vertices);s.clockwiseSort(a);var c=s.hull(a),h=s.centre(c);o.setVertices(t,c),s.translate(t.vertices,h)}var d=o._totalProperties(t),u=d.centre.x,p=d.centre.y,y=t.bounds,f=t.centerOfMass,v=t.centerOffset;l.update(y,t.vertices,t.velocity),f.x=-(y.min.x-u)/(y.max.x-y.min.x),f.y=-(y.min.y-p)/(y.max.y-y.min.y),v.x=u,v.y=p,t.area=d.area,t.parent=t,t.position.x=u,t.position.y=p,t.positionPrev.x=u,t.positionPrev.y=p,o.setMass(t,d.mass),o.setInertia(t,d.inertia),o.setPosition(t,d.centre)}},o.setCentre=function(t,e,i){i?(t.positionPrev.x+=e.x,t.positionPrev.y+=e.y,t.position.x+=e.x,t.position.y+=e.y):(t.positionPrev.x=e.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=e.y-(t.position.y-t.positionPrev.y),t.position.x=e.x,t.position.y=e.y)},o.setPosition=function(t,e){var i=n.sub(e,t.position);t.positionPrev.x+=i.x,t.positionPrev.y+=i.y;for(var o=0;o<t.parts.length;o++){var r=t.parts[o];r.position.x+=i.x,r.position.y+=i.y,s.translate(r.vertices,i),l.update(r.bounds,r.vertices,t.velocity)}},o.setAngle=function(t,e){var i=e-t.angle;t.anglePrev+=i;for(var o=0;o<t.parts.length;o++){var r=t.parts[o];r.angle+=i,s.rotate(r.vertices,i,t.position),c.rotate(r.axes,i),l.update(r.bounds,r.vertices,t.velocity),o>0&&n.rotateAbout(r.position,i,t.position,r.position)}},o.setVelocity=function(t,e){t.positionPrev.x=t.position.x-e.x,t.positionPrev.y=t.position.y-e.y,t.velocity.x=e.x,t.velocity.y=e.y,t.speed=n.magnitude(t.velocity)},o.setAngularVelocity=function(t,e){t.anglePrev=t.angle-e,t.angularVelocity=e,t.angularSpeed=Math.abs(t.angularVelocity)},o.translate=function(t,e){o.setPosition(t,n.add(t.position,e))},o.rotate=function(t,e,i){if(i){var s=Math.cos(e),n=Math.sin(e),r=t.position.x-i.x,a=t.position.y-i.y;o.setPosition(t,{x:i.x+(r*s-a*n),y:i.y+(r*n+a*s)}),o.setAngle(t,t.angle+e)}else o.setAngle(t,t.angle+e)},o.scale=function(t,e,i,n){var r=0,a=0;n=n||t.position;for(var h=0;h<t.parts.length;h++){var d=t.parts[h];d.scale.x=e,d.scale.y=i,s.scale(d.vertices,e,i,n),d.axes=c.fromVertices(d.vertices),d.area=s.area(d.vertices),o.setMass(d,t.density*d.area),s.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),o.setInertia(d,o._inertiaScale*s.inertia(d.vertices,d.mass)),s.translate(d.vertices,{x:d.position.x,y:d.position.y}),h>0&&(r+=d.area,a+=d.inertia),d.position.x=n.x+(d.position.x-n.x)*e,d.position.y=n.y+(d.position.y-n.y)*i,l.update(d.bounds,d.vertices,t.velocity)}t.parts.length>1&&(t.area=r,t.isStatic||(o.setMass(t,t.density*r),o.setInertia(t,a))),t.circleRadius&&(e===i?t.circleRadius*=e:t.circleRadius=null)},o.update=function(t,e,i,o){var r=Math.pow(e*i*t.timeScale,2),a=1-t.frictionAir*i*t.timeScale,h=t.position.x-t.positionPrev.x,d=t.position.y-t.positionPrev.y;t.velocity.x=h*a*o+t.force.x/t.mass*r,t.velocity.y=d*a*o+t.force.y/t.mass*r,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.angularVelocity=(t.angle-t.anglePrev)*a*o+t.torque/t.inertia*r,t.anglePrev=t.angle,t.angle+=t.angularVelocity,t.speed=n.magnitude(t.velocity),t.angularSpeed=Math.abs(t.angularVelocity);for(var u=0;u<t.parts.length;u++){var p=t.parts[u];s.translate(p.vertices,t.velocity),u>0&&(p.position.x+=t.velocity.x,p.position.y+=t.velocity.y),0!==t.angularVelocity&&(s.rotate(p.vertices,t.angularVelocity,t.position),c.rotate(p.axes,t.angularVelocity),u>0&&n.rotateAbout(p.position,t.angularVelocity,t.position,p.position)),l.update(p.bounds,p.vertices,t.velocity)}},o.applyForce=function(t,e,i){t.force.x+=i.x,t.force.y+=i.y;var o=e.x-t.position.x,s=e.y-t.position.y;t.torque+=o*i.y-s*i.x},o._totalProperties=function(t){for(var e={mass:0,area:0,inertia:0,centre:{x:0,y:0}},i=1===t.parts.length?0:1;i<t.parts.length;i++){var o=t.parts[i],s=o.mass!==1/0?o.mass:1;e.mass+=s,e.area+=o.area,e.inertia+=o.inertia,e.centre=n.add(e.centre,n.mult(o.position,s))}return e.centre=n.div(e.centre,e.mass),e}}()},64895:(t,e,i)=>{var o={};t.exports=o;var s=i(92326),n=i(52188),r=i(9094),a=i(95982);o.create=function(t){return n.extend({id:n.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},t)},o.setModified=function(t,e,i,n){if(s.trigger(t,"compositeModified",t),t.isModified=e,i&&t.parent&&o.setModified(t.parent,e,i,n),n)for(var r=0;r<t.composites.length;r++){var a=t.composites[r];o.setModified(a,e,i,n)}},o.add=function(t,e){var i=[].concat(e);s.trigger(t,"beforeAdd",{object:e});for(var r=0;r<i.length;r++){var a=i[r];switch(a.type){case"body":if(a.parent!==a){n.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(t,a);break;case"constraint":o.addConstraint(t,a);break;case"composite":o.addComposite(t,a);break;case"mouseConstraint":o.addConstraint(t,a.constraint)}}return s.trigger(t,"afterAdd",{object:e}),t},o.remove=function(t,e,i){var n=[].concat(e);s.trigger(t,"beforeRemove",{object:e});for(var r=0;r<n.length;r++){var a=n[r];switch(a.type){case"body":o.removeBody(t,a,i);break;case"constraint":o.removeConstraint(t,a,i);break;case"composite":o.removeComposite(t,a,i);break;case"mouseConstraint":o.removeConstraint(t,a.constraint)}}return s.trigger(t,"afterRemove",{object:e}),t},o.addComposite=function(t,e){return t.composites.push(e),e.parent=t,o.setModified(t,!0,!0,!1),t},o.removeComposite=function(t,e,i){var s=t.composites.indexOf(e);if(-1!==s&&(o.removeCompositeAt(t,s),o.setModified(t,!0,!0,!1)),i)for(var n=0;n<t.composites.length;n++)o.removeComposite(t.composites[n],e,!0);return t},o.removeCompositeAt=function(t,e){return t.composites.splice(e,1),o.setModified(t,!0,!0,!1),t},o.addBody=function(t,e){return t.bodies.push(e),o.setModified(t,!0,!0,!1),t},o.removeBody=function(t,e,i){var s=t.bodies.indexOf(e);if(-1!==s&&(o.removeBodyAt(t,s),o.setModified(t,!0,!0,!1)),i)for(var n=0;n<t.composites.length;n++)o.removeBody(t.composites[n],e,!0);return t},o.removeBodyAt=function(t,e){return t.bodies.splice(e,1),o.setModified(t,!0,!0,!1),t},o.addConstraint=function(t,e){return t.constraints.push(e),o.setModified(t,!0,!0,!1),t},o.removeConstraint=function(t,e,i){var s=t.constraints.indexOf(e);if(-1!==s&&o.removeConstraintAt(t,s),i)for(var n=0;n<t.composites.length;n++)o.removeConstraint(t.composites[n],e,!0);return t},o.removeConstraintAt=function(t,e){return t.constraints.splice(e,1),o.setModified(t,!0,!0,!1),t},o.clear=function(t,e,i){if(i)for(var s=0;s<t.composites.length;s++)o.clear(t.composites[s],e,!0);return e?t.bodies=t.bodies.filter((function(t){return t.isStatic})):t.bodies.length=0,t.constraints.length=0,t.composites.length=0,o.setModified(t,!0,!0,!1),t},o.allBodies=function(t){for(var e=[].concat(t.bodies),i=0;i<t.composites.length;i++)e=e.concat(o.allBodies(t.composites[i]));return e},o.allConstraints=function(t){for(var e=[].concat(t.constraints),i=0;i<t.composites.length;i++)e=e.concat(o.allConstraints(t.composites[i]));return e},o.allComposites=function(t){for(var e=[].concat(t.composites),i=0;i<t.composites.length;i++)e=e.concat(o.allComposites(t.composites[i]));return e},o.get=function(t,e,i){var s,n;switch(i){case"body":s=o.allBodies(t);break;case"constraint":s=o.allConstraints(t);break;case"composite":s=o.allComposites(t).concat(t)}return s?0===(n=s.filter((function(t){return t.id.toString()===e.toString()}))).length?null:n[0]:null},o.move=function(t,e,i){return o.remove(t,e),o.add(i,e),t},o.rebase=function(t){for(var e=o.allBodies(t).concat(o.allConstraints(t)).concat(o.allComposites(t)),i=0;i<e.length;i++)e[i].id=n.nextId();return o.setModified(t,!0,!0,!1),t},o.translate=function(t,e,i){for(var s=i?o.allBodies(t):t.bodies,n=0;n<s.length;n++)a.translate(s[n],e);return o.setModified(t,!0,!0,!1),t},o.rotate=function(t,e,i,s){for(var n=Math.cos(e),r=Math.sin(e),l=s?o.allBodies(t):t.bodies,c=0;c<l.length;c++){var h=l[c],d=h.position.x-i.x,u=h.position.y-i.y;a.setPosition(h,{x:i.x+(d*n-u*r),y:i.y+(d*r+u*n)}),a.rotate(h,e)}return o.setModified(t,!0,!0,!1),t},o.scale=function(t,e,i,s,n){for(var r=n?o.allBodies(t):t.bodies,l=0;l<r.length;l++){var c=r[l],h=c.position.x-s.x,d=c.position.y-s.y;a.setPosition(c,{x:s.x+h*e,y:s.y+d*i}),a.scale(c,e,i)}return o.setModified(t,!0,!0,!1),t},o.bounds=function(t){for(var e=o.allBodies(t),i=[],s=0;s<e.length;s+=1){var n=e[s];i.push(n.bounds.min,n.bounds.max)}return r.create(i)}},95011:(t,e,i)=>{var o={};t.exports=o;var s=i(64895),n=(i(72169),i(52188));o.create=function(t){var e=s.create();return n.extend(e,{label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}},t)}},72196:(t,e,i)=>{var o={};t.exports=o;var s=i(38438),n=i(15303),r=i(9094);o.collisions=function(t,e){for(var i=[],a=e.pairs.table,l=e.metrics,c=0;c<t.length;c++){var h=t[c][0],d=t[c][1];if((!h.isStatic&&!h.isSleeping||!d.isStatic&&!d.isSleeping)&&o.canCollide(h.collisionFilter,d.collisionFilter)&&(l.midphaseTests+=1,r.overlaps(h.bounds,d.bounds)))for(var u=h.parts.length>1?1:0;u<h.parts.length;u++)for(var p=h.parts[u],y=d.parts.length>1?1:0;y<d.parts.length;y++){var f=d.parts[y];if(p===h&&f===d||r.overlaps(p.bounds,f.bounds)){var v,g=a[n.id(p,f)];v=g&&g.isActive?g.collision:null;var m=s.collides(p,f,v);l.narrowphaseTests+=1,m.reused&&(l.narrowReuseCount+=1),m.collided&&(i.push(m),l.narrowDetections+=1)}}}return i},o.canCollide=function(t,e){return t.group===e.group&&0!==t.group?t.group>0:0!=(t.mask&e.category)&&0!=(e.mask&t.category)}},52514:(t,e,i)=>{var o={};t.exports=o;var s=i(15303),n=i(72196),r=i(52188);o.create=function(t){var e={controller:o,detector:n.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return r.extend(e,t)},o.update=function(t,e,i,s){var n,r,a,l,c,h=i.world,d=t.buckets,u=!1,p=i.metrics;for(p.broadphaseTests=0,n=0;n<e.length;n++){var y=e[n];if((!y.isSleeping||s)&&!(y.bounds.max.x<h.bounds.min.x||y.bounds.min.x>h.bounds.max.x||y.bounds.max.y<h.bounds.min.y||y.bounds.min.y>h.bounds.max.y)){var f=o._getRegion(t,y);if(!y.region||f.id!==y.region.id||s){p.broadphaseTests+=1,y.region&&!s||(y.region=f);var v=o._regionUnion(f,y.region);for(r=v.startCol;r<=v.endCol;r++)for(a=v.startRow;a<=v.endRow;a++){l=d[c=o._getBucketId(r,a)];var g=r>=f.startCol&&r<=f.endCol&&a>=f.startRow&&a<=f.endRow,m=r>=y.region.startCol&&r<=y.region.endCol&&a>=y.region.startRow&&a<=y.region.endRow;!g&&m&&m&&l&&o._bucketRemoveBody(t,l,y),(y.region===f||g&&!m||s)&&(l||(l=o._createBucket(d,c)),o._bucketAddBody(t,l,y))}y.region=f,u=!0}}}u&&(t.pairsList=o._createActivePairsList(t))},o.clear=function(t){t.buckets={},t.pairs={},t.pairsList=[]},o._regionUnion=function(t,e){var i=Math.min(t.startCol,e.startCol),s=Math.max(t.endCol,e.endCol),n=Math.min(t.startRow,e.startRow),r=Math.max(t.endRow,e.endRow);return o._createRegion(i,s,n,r)},o._getRegion=function(t,e){var i=e.bounds,s=Math.floor(i.min.x/t.bucketWidth),n=Math.floor(i.max.x/t.bucketWidth),r=Math.floor(i.min.y/t.bucketHeight),a=Math.floor(i.max.y/t.bucketHeight);return o._createRegion(s,n,r,a)},o._createRegion=function(t,e,i,o){return{id:t+","+e+","+i+","+o,startCol:t,endCol:e,startRow:i,endRow:o}},o._getBucketId=function(t,e){return"C"+t+"R"+e},o._createBucket=function(t,e){return t[e]=[]},o._bucketAddBody=function(t,e,i){for(var o=0;o<e.length;o++){var n=e[o];if(!(i.id===n.id||i.isStatic&&n.isStatic)){var r=s.id(i,n),a=t.pairs[r];a?a[2]+=1:t.pairs[r]=[i,n,1]}}e.push(i)},o._bucketRemoveBody=function(t,e,i){e.splice(e.indexOf(i),1);for(var o=0;o<e.length;o++){var n=e[o],r=s.id(i,n),a=t.pairs[r];a&&(a[2]-=1)}},o._createActivePairsList=function(t){var e,i,o=[];e=r.keys(t.pairs);for(var s=0;s<e.length;s++)(i=t.pairs[e[s]])[2]>0?o.push(i):delete t.pairs[e[s]];return o}},15303:t=>{var e={};t.exports=e,e.create=function(t,i){var o=t.bodyA,s=t.bodyB,n={id:e.id(o,s),bodyA:o,bodyB:s,activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:o.isSensor||s.isSensor,timeCreated:i,timeUpdated:i,collision:null,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(n,t,i),n},e.update=function(t,i,o){if(t.collision=i,i.collided){var s=i.supports,n=t.activeContacts,r=i.parentA,a=i.parentB;t.inverseMass=r.inverseMass+a.inverseMass,t.friction=Math.min(r.friction,a.friction),t.frictionStatic=Math.max(r.frictionStatic,a.frictionStatic),t.restitution=Math.max(r.restitution,a.restitution),t.slop=Math.max(r.slop,a.slop);for(var l=0;l<s.length;l++)n[l]=s[l].contact;var c=s.length;c<n.length&&(n.length=c),t.separation=i.depth,e.setActive(t,!0,o)}else!0===t.isActive&&e.setActive(t,!1,o)},e.setActive=function(t,e,i){e?(t.isActive=!0,t.timeUpdated=i):(t.isActive=!1,t.activeContacts.length=0)},e.id=function(t,e){return t.id<e.id?"A"+t.id+"B"+e.id:"A"+e.id+"B"+t.id}},9888:(t,e,i)=>{var o={};t.exports=o;var s=i(15303),n=i(52188);o._pairMaxIdleLife=1e3,o.create=function(t){return n.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},t)},o.update=function(t,e,i){var o,n,r,a,l=t.list,c=t.table,h=t.collisionStart,d=t.collisionEnd,u=t.collisionActive;for(h.length=0,d.length=0,u.length=0,a=0;a<l.length;a++)l[a].confirmedActive=!1;for(a=0;a<e.length;a++)(o=e[a]).collided&&((r=c[n=s.id(o.bodyA,o.bodyB)])?(r.isActive?u.push(r):h.push(r),s.update(r,o,i),r.confirmedActive=!0):(r=s.create(o,i),c[n]=r,h.push(r),l.push(r)));for(a=0;a<l.length;a++)(r=l[a]).isActive&&!r.confirmedActive&&(s.setActive(r,!1,i),d.push(r))},o.removeOld=function(t,e){var i,s,n,r,a=t.list,l=t.table,c=[];for(r=0;r<a.length;r++)(s=(i=a[r]).collision).bodyA.isSleeping||s.bodyB.isSleeping?i.timeUpdated=e:e-i.timeUpdated>o._pairMaxIdleLife&&c.push(r);for(r=0;r<c.length;r++)delete l[(i=a[n=c[r]-r]).id],a.splice(n,1)},o.clear=function(t){return t.table={},t.list.length=0,t.collisionStart.length=0,t.collisionActive.length=0,t.collisionEnd.length=0,t}},69382:(t,e,i)=>{var o={};t.exports=o;var s=i(80127),n=i(38438),r=i(9094),a=i(4252),l=i(19275);o.collides=function(t,e){for(var i=[],o=0;o<e.length;o++){var s=e[o];if(t!==s&&r.overlaps(s.bounds,t.bounds))for(var a=1===s.parts.length?0:1;a<s.parts.length;a++){var l=s.parts[a];if(r.overlaps(l.bounds,t.bounds)){var c=n.collides(l,t);if(c.collided){i.push(c);break}}}}return i},o.ray=function(t,e,i,n){n=n||1e-100;for(var r=s.angle(e,i),l=s.magnitude(s.sub(e,i)),c=.5*(i.x+e.x),h=.5*(i.y+e.y),d=a.rectangle(c,h,l,n,{angle:r}),u=o.collides(d,t),p=0;p<u.length;p+=1){var y=u[p];y.body=y.bodyB=y.bodyA}return u},o.region=function(t,e,i){for(var o=[],s=0;s<t.length;s++){var n=t[s],a=r.overlaps(n.bounds,e);(a&&!i||!a&&i)&&o.push(n)}return o},o.point=function(t,e){for(var i=[],o=0;o<t.length;o++){var s=t[o];if(r.contains(s.bounds,e))for(var n=1===s.parts.length?0:1;n<s.parts.length;n++){var a=s.parts[n];if(r.contains(a.bounds,e)&&l.contains(a.vertices,e)){i.push(s);break}}}return i}},27459:(t,e,i)=>{var o={};t.exports=o;var s=i(19275),n=i(80127),r=i(52188),a=i(9094);o._restingThresh=4,o._restingThreshTangent=6,o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o.preSolvePosition=function(t){var e,i,o;for(e=0;e<t.length;e++)(i=t[e]).isActive&&(o=i.activeContacts.length,i.collision.parentA.totalContacts+=o,i.collision.parentB.totalContacts+=o)},o.solvePosition=function(t,e,i){var s,n,r,a,l,c,h,d,u,p,y,f,v,g,m,b,x=i*o._positionDampen;for(s=0;s<e.length;s++){var C=e[s];C.previousPositionImpulse.x=C.positionImpulse.x,C.previousPositionImpulse.y=C.positionImpulse.y}for(s=0;s<t.length;s++)(a=t[s]).isActive&&!a.isSensor&&(c=(l=a.collision).parentA,h=l.parentB,d=l.normal,y=c.previousPositionImpulse,f=h.previousPositionImpulse,p=l.penetration,g=f.x-y.x+p.x,m=f.y-y.y+p.y,u=(n=d.x)*g+(r=d.y)*m,a.separation=u,b=(u-a.slop)*x,(c.isStatic||h.isStatic)&&(b*=2),c.isStatic||c.isSleeping||(v=b/c.totalContacts,c.positionImpulse.x+=n*v,c.positionImpulse.y+=r*v),h.isStatic||h.isSleeping||(v=b/h.totalContacts,h.positionImpulse.x-=n*v,h.positionImpulse.y-=r*v))},o.postSolvePosition=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.totalContacts=0,0!==i.positionImpulse.x||0!==i.positionImpulse.y){for(var r=0;r<i.parts.length;r++){var l=i.parts[r];s.translate(l.vertices,i.positionImpulse),a.update(l.bounds,l.vertices,i.velocity),l.position.x+=i.positionImpulse.x,l.position.y+=i.positionImpulse.y}i.positionPrev.x+=i.positionImpulse.x,i.positionPrev.y+=i.positionImpulse.y,n.dot(i.positionImpulse,i.velocity)<0?(i.positionImpulse.x=0,i.positionImpulse.y=0):(i.positionImpulse.x*=o._positionWarming,i.positionImpulse.y*=o._positionWarming)}}},o.preSolveVelocity=function(t){var e,i,o,s,r,a,l,c,h,d,u,p,y,f,v=n._temp[0],g=n._temp[1];for(e=0;e<t.length;e++)if((o=t[e]).isActive&&!o.isSensor)for(s=o.activeContacts,a=(r=o.collision).parentA,l=r.parentB,c=r.normal,h=r.tangent,i=0;i<s.length;i++)u=(d=s[i]).vertex,p=d.normalImpulse,y=d.tangentImpulse,0===p&&0===y||(v.x=c.x*p+h.x*y,v.y=c.y*p+h.y*y,a.isStatic||a.isSleeping||(f=n.sub(u,a.position,g),a.positionPrev.x+=v.x*a.inverseMass,a.positionPrev.y+=v.y*a.inverseMass,a.anglePrev+=n.cross(f,v)*a.inverseInertia),l.isStatic||l.isSleeping||(f=n.sub(u,l.position,g),l.positionPrev.x-=v.x*l.inverseMass,l.positionPrev.y-=v.y*l.inverseMass,l.anglePrev-=n.cross(f,v)*l.inverseInertia))},o.solveVelocity=function(t,e){for(var i=e*e,s=n._temp[0],a=n._temp[1],l=n._temp[2],c=n._temp[3],h=n._temp[4],d=n._temp[5],u=0;u<t.length;u++){var p=t[u];if(p.isActive&&!p.isSensor){var y=p.collision,f=y.parentA,v=y.parentB,g=y.normal,m=y.tangent,b=p.activeContacts,x=1/b.length;f.velocity.x=f.position.x-f.positionPrev.x,f.velocity.y=f.position.y-f.positionPrev.y,v.velocity.x=v.position.x-v.positionPrev.x,v.velocity.y=v.position.y-v.positionPrev.y,f.angularVelocity=f.angle-f.anglePrev,v.angularVelocity=v.angle-v.anglePrev;for(var C=0;C<b.length;C++){var w=b[C],S=w.vertex,B=n.sub(S,f.position,a),A=n.sub(S,v.position,l),_=n.add(f.velocity,n.mult(n.perp(B),f.angularVelocity),c),T=n.add(v.velocity,n.mult(n.perp(A),v.angularVelocity),h),O=n.sub(_,T,d),M=n.dot(g,O),P=n.dot(m,O),k=Math.abs(P),E=r.sign(P),I=(1+p.restitution)*M,D=r.clamp(p.separation+M,0,1)*o._frictionNormalMultiplier,V=P,R=1/0;k>p.friction*p.frictionStatic*D*i&&(R=k,V=r.clamp(p.friction*E*i,-R,R));var Y=n.cross(B,g),L=n.cross(A,g),F=x/(f.inverseMass+v.inverseMass+f.inverseInertia*Y*Y+v.inverseInertia*L*L);if(I*=F,V*=F,M<0&&M*M>o._restingThresh*i)w.normalImpulse=0;else{var W=w.normalImpulse;w.normalImpulse=Math.min(w.normalImpulse+I,0),I=w.normalImpulse-W}if(P*P>o._restingThreshTangent*i)w.tangentImpulse=0;else{var X=w.tangentImpulse;w.tangentImpulse=r.clamp(w.tangentImpulse+V,-R,R),V=w.tangentImpulse-X}s.x=g.x*I+m.x*V,s.y=g.y*I+m.y*V,f.isStatic||f.isSleeping||(f.positionPrev.x+=s.x*f.inverseMass,f.positionPrev.y+=s.y*f.inverseMass,f.anglePrev+=n.cross(B,s)*f.inverseInertia),v.isStatic||v.isSleeping||(v.positionPrev.x-=s.x*v.inverseMass,v.positionPrev.y-=s.y*v.inverseMass,v.anglePrev-=n.cross(A,s)*v.inverseInertia)}}}}},38438:(t,e,i)=>{var o={};t.exports=o;var s=i(19275),n=i(80127);o.collides=function(t,e,i){var r,a,l,c,h=!1;if(i){var d=t.parent,u=e.parent,p=d.speed*d.speed+d.angularSpeed*d.angularSpeed+u.speed*u.speed+u.angularSpeed*u.angularSpeed;h=i&&i.collided&&p<.2,c=i}else c={collided:!1,bodyA:t,bodyB:e};if(i&&h){var y=c.axisBody,f=y===t?e:t,v=[y.axes[i.axisNumber]];if(l=o._overlapAxes(y.vertices,f.vertices,v),c.reused=!0,l.overlap<=0)return c.collided=!1,c}else{if((r=o._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return c.collided=!1,c;if((a=o._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return c.collided=!1,c;r.overlap<a.overlap?(l=r,c.axisBody=t):(l=a,c.axisBody=e),c.axisNumber=l.axisNumber}c.bodyA=t.id<e.id?t:e,c.bodyB=t.id<e.id?e:t,c.collided=!0,c.depth=l.overlap,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent,t=c.bodyA,e=c.bodyB,n.dot(l.axis,n.sub(e.position,t.position))<0?c.normal={x:l.axis.x,y:l.axis.y}:c.normal={x:-l.axis.x,y:-l.axis.y},c.tangent=n.perp(c.normal),c.penetration=c.penetration||{},c.penetration.x=c.normal.x*c.depth,c.penetration.y=c.normal.y*c.depth;var g=o._findSupports(t,e,c.normal),m=[];if(s.contains(t.vertices,g[0])&&m.push(g[0]),s.contains(t.vertices,g[1])&&m.push(g[1]),m.length<2){var b=o._findSupports(e,t,n.neg(c.normal));s.contains(e.vertices,b[0])&&m.push(b[0]),m.length<2&&s.contains(e.vertices,b[1])&&m.push(b[1])}return m.length<1&&(m=[g[0]]),c.supports=m,c},o._overlapAxes=function(t,e,i){for(var s,r,a=n._temp[0],l=n._temp[1],c={overlap:Number.MAX_VALUE},h=0;h<i.length;h++){if(r=i[h],o._projectToAxis(a,t,r),o._projectToAxis(l,e,r),(s=Math.min(a.max-l.min,l.max-a.min))<=0)return c.overlap=s,c;s<c.overlap&&(c.overlap=s,c.axis=r,c.axisNumber=h)}return c},o._projectToAxis=function(t,e,i){for(var o=n.dot(e[0],i),s=o,r=1;r<e.length;r+=1){var a=n.dot(e[r],i);a>s?s=a:a<o&&(o=a)}t.min=o,t.max=s},o._findSupports=function(t,e,i){for(var o,s,r,a,l=Number.MAX_VALUE,c=n._temp[0],h=e.vertices,d=t.position,u=0;u<h.length;u++)s=h[u],c.x=s.x-d.x,c.y=s.y-d.y,(o=-n.dot(i,c))<l&&(l=o,r=s);return s=h[r.index-1>=0?r.index-1:h.length-1],c.x=s.x-d.x,c.y=s.y-d.y,l=-n.dot(i,c),a=s,s=h[(r.index+1)%h.length],c.x=s.x-d.x,c.y=s.y-d.y,(o=-n.dot(i,c))<l&&(a=s),[r,a]}},72169:(t,e,i)=>{var o={};t.exports=o;var s=i(19275),n=i(80127),r=i(24597),a=i(9094),l=i(57063),c=i(52188);o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(t){var e=t;e.bodyA&&!e.pointA&&(e.pointA={x:0,y:0}),e.bodyB&&!e.pointB&&(e.pointB={x:0,y:0});var i=e.bodyA?n.add(e.bodyA.position,e.pointA):e.pointA,o=e.bodyB?n.add(e.bodyB.position,e.pointB):e.pointB,s=n.magnitude(n.sub(i,o));e.length=void 0!==e.length?e.length:s,e.id=e.id||c.nextId(),e.label=e.label||"Constraint",e.type="constraint",e.stiffness=e.stiffness||(e.length>0?1:.7),e.damping=e.damping||0,e.angularStiffness=e.angularStiffness||0,e.angleA=e.bodyA?e.bodyA.angle:e.angleA,e.angleB=e.bodyB?e.bodyB.angle:e.angleB,e.plugin={};var r={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return 0===e.length&&e.stiffness>.1?(r.type="pin",r.anchors=!1):e.stiffness<.9&&(r.type="spring"),e.render=c.extend(r,e.render),e},o.preSolveAll=function(t){for(var e=0;e<t.length;e+=1){var i=t[e],o=i.constraintImpulse;i.isStatic||0===o.x&&0===o.y&&0===o.angle||(i.position.x+=o.x,i.position.y+=o.y,i.angle+=o.angle)}},o.solveAll=function(t,e){for(var i=0;i<t.length;i+=1){var s=t[i],n=!s.bodyA||s.bodyA&&s.bodyA.isStatic,r=!s.bodyB||s.bodyB&&s.bodyB.isStatic;(n||r)&&o.solve(t[i],e)}for(i=0;i<t.length;i+=1)n=!(s=t[i]).bodyA||s.bodyA&&s.bodyA.isStatic,r=!s.bodyB||s.bodyB&&s.bodyB.isStatic,n||r||o.solve(t[i],e)},o.solve=function(t,e){var i=t.bodyA,s=t.bodyB,r=t.pointA,a=t.pointB;if(i||s){i&&!i.isStatic&&(n.rotate(r,i.angle-t.angleA,r),t.angleA=i.angle),s&&!s.isStatic&&(n.rotate(a,s.angle-t.angleB,a),t.angleB=s.angle);var l=r,c=a;if(i&&(l=n.add(i.position,r)),s&&(c=n.add(s.position,a)),l&&c){var h=n.sub(l,c),d=n.magnitude(h);d<o._minLength&&(d=o._minLength);var u,p,y,f,v,g=(d-t.length)/d,m=t.stiffness<1?t.stiffness*e:t.stiffness,b=n.mult(h,g*m),x=(i?i.inverseMass:0)+(s?s.inverseMass:0),C=x+((i?i.inverseInertia:0)+(s?s.inverseInertia:0));if(t.damping){var w=n.create();y=n.div(h,d),v=n.sub(s&&n.sub(s.position,s.positionPrev)||w,i&&n.sub(i.position,i.positionPrev)||w),f=n.dot(y,v)}i&&!i.isStatic&&(p=i.inverseMass/x,i.constraintImpulse.x-=b.x*p,i.constraintImpulse.y-=b.y*p,i.position.x-=b.x*p,i.position.y-=b.y*p,t.damping&&(i.positionPrev.x-=t.damping*y.x*f*p,i.positionPrev.y-=t.damping*y.y*f*p),u=n.cross(r,b)/C*o._torqueDampen*i.inverseInertia*(1-t.angularStiffness),i.constraintImpulse.angle-=u,i.angle-=u),s&&!s.isStatic&&(p=s.inverseMass/x,s.constraintImpulse.x+=b.x*p,s.constraintImpulse.y+=b.y*p,s.position.x+=b.x*p,s.position.y+=b.y*p,t.damping&&(s.positionPrev.x+=t.damping*y.x*f*p,s.positionPrev.y+=t.damping*y.y*f*p),u=n.cross(a,b)/C*o._torqueDampen*s.inverseInertia*(1-t.angularStiffness),s.constraintImpulse.angle+=u,s.angle+=u)}}},o.postSolveAll=function(t){for(var e=0;e<t.length;e++){var i=t[e],c=i.constraintImpulse;if(!(i.isStatic||0===c.x&&0===c.y&&0===c.angle)){r.set(i,!1);for(var h=0;h<i.parts.length;h++){var d=i.parts[h];s.translate(d.vertices,c),h>0&&(d.position.x+=c.x,d.position.y+=c.y),0!==c.angle&&(s.rotate(d.vertices,c.angle,i.position),l.rotate(d.axes,c.angle),h>0&&n.rotateAbout(d.position,c.angle,i.position,d.position)),a.update(d.bounds,d.vertices,i.velocity)}c.angle*=o._warming,c.x*=o._warming,c.y*=o._warming}}},o.pointAWorld=function(t){return{x:(t.bodyA?t.bodyA.position.x:0)+t.pointA.x,y:(t.bodyA?t.bodyA.position.y:0)+t.pointA.y}},o.pointBWorld=function(t){return{x:(t.bodyB?t.bodyB.position.x:0)+t.pointB.x,y:(t.bodyB?t.bodyB.position.y:0)+t.pointB.y}}},52188:t=>{var e={};t.exports=e,function(){e._nextId=0,e._seed=0,e._nowStartTime=+new Date,e.extend=function(t,i){var o,s;"boolean"==typeof i?(o=2,s=i):(o=1,s=!0);for(var n=o;n<arguments.length;n++){var r=arguments[n];if(r)for(var a in r)s&&r[a]&&r[a].constructor===Object?t[a]&&t[a].constructor!==Object?t[a]=r[a]:(t[a]=t[a]||{},e.extend(t[a],s,r[a])):t[a]=r[a]}return t},e.clone=function(t,i){return e.extend({},i,t)},e.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)e.push(i);return e},e.values=function(t){var e=[];if(Object.keys){for(var i=Object.keys(t),o=0;o<i.length;o++)e.push(t[i[o]]);return e}for(var s in t)e.push(t[s]);return e},e.get=function(t,e,i,o){e=e.split(".").slice(i,o);for(var s=0;s<e.length;s+=1)t=t[e[s]];return t},e.set=function(t,i,o,s,n){var r=i.split(".").slice(s,n);return e.get(t,i,0,-1)[r[r.length-1]]=o,o},e.shuffle=function(t){for(var i=t.length-1;i>0;i--){var o=Math.floor(e.random()*(i+1)),s=t[i];t[i]=t[o],t[o]=s}return t},e.choose=function(t){return t[Math.floor(e.random()*t.length)]},e.isElement=function(t){return"undefined"!=typeof HTMLElement?t instanceof HTMLElement:!!(t&&t.nodeType&&t.nodeName)},e.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.isFunction=function(t){return"function"==typeof t},e.isPlainObject=function(t){return"object"==typeof t&&t.constructor===Object},e.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},e.clamp=function(t,e,i){return t<e?e:t>i?i:t},e.sign=function(t){return t<0?-1:1},e.now=function(){if("undefined"!=typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-e._nowStartTime},e.random=function(e,i){return i=void 0!==i?i:1,(e=void 0!==e?e:0)+t()*(i-e)};var t=function(){return e._seed=(9301*e._seed+49297)%233280,e._seed/233280};e.colorToNumber=function(t){return 3==(t=t.replace("#","")).length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),parseInt(t,16)},e.logLevel=1,e.log=function(){console&&e.logLevel>0&&e.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},e.info=function(){console&&e.logLevel>0&&e.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},e.warn=function(){console&&e.logLevel>0&&e.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},e.nextId=function(){return e._nextId++},e.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},e.map=function(t,e){if(t.map)return t.map(e);for(var i=[],o=0;o<t.length;o+=1)i.push(e(t[o]));return i},e.topologicalSort=function(t){var i=[],o=[],s=[];for(var n in t)o[n]||s[n]||e._topologicalSort(n,o,s,t,i);return i},e._topologicalSort=function(t,i,o,s,n){var r=s[t]||[];o[t]=!0;for(var a=0;a<r.length;a+=1){var l=r[a];o[l]||i[l]||e._topologicalSort(l,i,o,s,n)}o[t]=!1,i[t]=!0,n.push(t)},e.chain=function(){for(var t=[],e=0;e<arguments.length;e+=1){var i=arguments[e];i._chained?t.push.apply(t,i._chained):t.push(i)}var o=function(){for(var e,i=new Array(arguments.length),o=0,s=arguments.length;o<s;o++)i[o]=arguments[o];for(o=0;o<t.length;o+=1){var n=t[o].apply(e,i);void 0!==n&&(e=n)}return e};return o._chained=t,o},e.chainPathBefore=function(t,i,o){return e.set(t,i,e.chain(o,e.get(t,i)))},e.chainPathAfter=function(t,i,o){return e.set(t,i,e.chain(e.get(t,i),o))}}()},27318:(t,e,i)=>{var o={};t.exports=o;var s=i(95011),n=i(24597),r=i(27459),a=i(9888),l=i(76806),c=i(52514),h=i(92326),d=i(64895),u=i(72169),p=i(52188),y=i(95982);o.create=function(t,e){e=(e=p.isElement(t)?e:t)||{},((t=p.isElement(t)?t:null)||e.render)&&p.warn("Engine.create: engine.render is deprecated (see docs)");var i={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:c}},o=p.extend(i,e);return o.world=e.world||s.create(o.world),o.pairs=a.create(),o.broadphase=o.broadphase.controller.create(o.broadphase),o.metrics=o.metrics||{extended:!1},o.metrics=l.create(o.metrics),o},o.update=function(t,e,i){e=e||1e3/60,i=i||1;var s,c=t.world,p=t.timing,y=t.broadphase,f=[];p.timestamp+=e*p.timeScale;var v={timestamp:p.timestamp};h.trigger(t,"beforeUpdate",v);var g=d.allBodies(c),m=d.allConstraints(c);for(l.reset(t.metrics),t.enableSleeping&&n.update(g,p.timeScale),o._bodiesApplyGravity(g,c.gravity),o._bodiesUpdate(g,e,p.timeScale,i,c.bounds),u.preSolveAll(g),s=0;s<t.constraintIterations;s++)u.solveAll(m,p.timeScale);u.postSolveAll(g),y.controller?(c.isModified&&y.controller.clear(y),y.controller.update(y,g,t,c.isModified),f=y.pairsList):f=g,c.isModified&&d.setModified(c,!1,!1,!0);var b=y.detector(f,t),x=t.pairs,C=p.timestamp;for(a.update(x,b,C),a.removeOld(x,C),t.enableSleeping&&n.afterCollisions(x.list,p.timeScale),x.collisionStart.length>0&&h.trigger(t,"collisionStart",{pairs:x.collisionStart}),r.preSolvePosition(x.list),s=0;s<t.positionIterations;s++)r.solvePosition(x.list,g,p.timeScale);for(r.postSolvePosition(g),u.preSolveAll(g),s=0;s<t.constraintIterations;s++)u.solveAll(m,p.timeScale);for(u.postSolveAll(g),r.preSolveVelocity(x.list),s=0;s<t.velocityIterations;s++)r.solveVelocity(x.list,p.timeScale);return x.collisionActive.length>0&&h.trigger(t,"collisionActive",{pairs:x.collisionActive}),x.collisionEnd.length>0&&h.trigger(t,"collisionEnd",{pairs:x.collisionEnd}),l.update(t.metrics,t),o._bodiesClearForces(g),h.trigger(t,"afterUpdate",v),t},o.merge=function(t,e){if(p.extend(t,e),e.world){t.world=e.world,o.clear(t);for(var i=d.allBodies(t.world),s=0;s<i.length;s++){var r=i[s];n.set(r,!1),r.id=p.nextId()}}},o.clear=function(t){var e=t.world;a.clear(t.pairs);var i=t.broadphase;if(i.controller){var o=d.allBodies(e);i.controller.clear(i),i.controller.update(i,o,t,!0)}},o._bodiesClearForces=function(t){for(var e=0;e<t.length;e++){var i=t[e];i.force.x=0,i.force.y=0,i.torque=0}},o._bodiesApplyGravity=function(t,e){var i=void 0!==e.scale?e.scale:.001;if((0!==e.x||0!==e.y)&&0!==i)for(var o=0;o<t.length;o++){var s=t[o];s.ignoreGravity||s.isStatic||s.isSleeping||(s.force.x+=s.mass*e.x*i*s.gravityScale.x,s.force.y+=s.mass*e.y*i*s.gravityScale.y)}},o._bodiesUpdate=function(t,e,i,o,s){for(var n=0;n<t.length;n++){var r=t[n];r.isStatic||r.isSleeping||y.update(r,e,i,o)}}},92326:(t,e,i)=>{var o={};t.exports=o;var s=i(52188);o.on=function(t,e,i){for(var o,s=e.split(" "),n=0;n<s.length;n++)o=s[n],t.events=t.events||{},t.events[o]=t.events[o]||[],t.events[o].push(i);return i},o.off=function(t,e,i){if(e){"function"==typeof e&&(i=e,e=s.keys(t.events).join(" "));for(var o=e.split(" "),n=0;n<o.length;n++){var r=t.events[o[n]],a=[];if(i&&r)for(var l=0;l<r.length;l++)r[l]!==i&&a.push(r[l]);t.events[o[n]]=a}}else t.events={}},o.trigger=function(t,e,i){var o,n,r,a,l=t.events;if(l&&s.keys(l).length>0){i||(i={}),o=e.split(" ");for(var c=0;c<o.length;c++)if(r=l[n=o[c]]){(a=s.clone(i,!1)).name=n,a.source=t;for(var h=0;h<r.length;h++)r[h].apply(t,[a])}}}},6749:(t,e,i)=>{var o={};t.exports=o;var s=i(69123),n=i(52188);o.name="matter-js",o.version="0.14.2",o.uses=[],o.used=[],o.use=function(){s.use(o,Array.prototype.slice.call(arguments))},o.before=function(t,e){return t=t.replace(/^Matter./,""),n.chainPathBefore(o,t,e)},o.after=function(t,e){return t=t.replace(/^Matter./,""),n.chainPathAfter(o,t,e)}},76806:(t,e,i)=>{var o={};t.exports=o;var s=i(64895),n=i(52188);o.create=function(t){return n.extend({extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0},!1,t)},o.reset=function(t){t.extended&&(t.narrowDetections=0,t.narrowphaseTests=0,t.narrowReuse=0,t.narrowReuseCount=0,t.midphaseTests=0,t.broadphaseTests=0,t.narrowEff=0,t.midEff=0,t.broadEff=0,t.collisions=0,t.buckets=0,t.pairs=0,t.bodies=0)},o.update=function(t,e){if(t.extended){var i=e.world,o=s.allBodies(i);t.collisions=t.narrowDetections,t.pairs=e.pairs.list.length,t.bodies=o.length,t.midEff=(t.narrowDetections/(t.midphaseTests||1)).toFixed(2),t.narrowEff=(t.narrowDetections/(t.narrowphaseTests||1)).toFixed(2),t.broadEff=(1-t.broadphaseTests/(o.length||1)).toFixed(2),t.narrowReuse=(t.narrowReuseCount/(t.narrowphaseTests||1)).toFixed(2)}}},69123:(t,e,i)=>{var o={};t.exports=o;var s=i(52188);o._registry={},o.register=function(t){if(o.isPlugin(t)||s.warn("Plugin.register:",o.toString(t),"does not implement all required fields."),t.name in o._registry){var e=o._registry[t.name],i=o.versionParse(t.version).number,n=o.versionParse(e.version).number;i>n?(s.warn("Plugin.register:",o.toString(e),"was upgraded to",o.toString(t)),o._registry[t.name]=t):i<n?s.warn("Plugin.register:",o.toString(e),"can not be downgraded to",o.toString(t)):t!==e&&s.warn("Plugin.register:",o.toString(t),"is already registered to different plugin object")}else o._registry[t.name]=t;return t},o.resolve=function(t){return o._registry[o.dependencyParse(t).name]},o.toString=function(t){return"string"==typeof t?t:(t.name||"anonymous")+"@"+(t.version||t.range||"0.0.0")},o.isPlugin=function(t){return t&&t.name&&t.version&&t.install},o.isUsed=function(t,e){return t.used.indexOf(e)>-1},o.isFor=function(t,e){var i=t.for&&o.dependencyParse(t.for);return!t.for||e.name===i.name&&o.versionSatisfies(e.version,i.range)},o.use=function(t,e){if(t.uses=(t.uses||[]).concat(e||[]),0!==t.uses.length){for(var i=o.dependencies(t),n=s.topologicalSort(i),r=[],a=0;a<n.length;a+=1)if(n[a]!==t.name){var l=o.resolve(n[a]);l?o.isUsed(t,l.name)||(o.isFor(l,t)||(s.warn("Plugin.use:",o.toString(l),"is for",l.for,"but installed on",o.toString(t)+"."),l._warned=!0),l.install?l.install(t):(s.warn("Plugin.use:",o.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(r.push("🔶 "+o.toString(l)),delete l._warned):r.push("✅ "+o.toString(l)),t.used.push(l.name)):r.push("❌ "+n[a])}r.length>0&&!l.silent&&s.info(r.join("  "))}else s.warn("Plugin.use:",o.toString(t),"does not specify any dependencies to install.")},o.dependencies=function(t,e){var i=o.dependencyParse(t),n=i.name;if(!(n in(e=e||{}))){t=o.resolve(t)||t,e[n]=s.map(t.uses||[],(function(e){o.isPlugin(e)&&o.register(e);var n=o.dependencyParse(e),r=o.resolve(e);return r&&!o.versionSatisfies(r.version,n.range)?(s.warn("Plugin.dependencies:",o.toString(r),"does not satisfy",o.toString(n),"used by",o.toString(i)+"."),r._warned=!0,t._warned=!0):r||(s.warn("Plugin.dependencies:",o.toString(e),"used by",o.toString(i),"could not be resolved."),t._warned=!0),n.name}));for(var r=0;r<e[n].length;r+=1)o.dependencies(e[n][r],e);return e}},o.dependencyParse=function(t){return s.isString(t)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(t)||s.warn("Plugin.dependencyParse:",t,"is not a valid dependency string."),{name:t.split("@")[0],range:t.split("@")[1]||"*"}):{name:t.name,range:t.range||t.version}},o.versionParse=function(t){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(t)||s.warn("Plugin.versionParse:",t,"is not a valid version or range.");var e=t.split("-");t=e[0];var i=isNaN(Number(t[0])),o=i?t.substr(1):t,n=s.map(o.split("."),(function(t){return Number(t)}));return{isRange:i,version:o,range:t,operator:i?t[0]:"",parts:n,prerelease:e[1],number:1e8*n[0]+1e4*n[1]+n[2]}},o.versionSatisfies=function(t,e){e=e||"*";var i=o.versionParse(e),s=i.parts,n=o.versionParse(t),r=n.parts;if(i.isRange){if("*"===i.operator||"*"===t)return!0;if("~"===i.operator)return r[0]===s[0]&&r[1]===s[1]&&r[2]>=s[2];if("^"===i.operator)return s[0]>0?r[0]===s[0]&&n.number>=i.number:s[1]>0?r[1]===s[1]&&r[2]>=s[2]:r[2]===s[2]}return t===e||"*"===t}},24597:(t,e,i)=>{var o={};t.exports=o;var s=i(92326);o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(t,e){for(var i=e*e*e,s=0;s<t.length;s++){var n=t[s],r=n.speed*n.speed+n.angularSpeed*n.angularSpeed;if(0===n.force.x&&0===n.force.y){var a=Math.min(n.motion,r),l=Math.max(n.motion,r);n.motion=o._minBias*a+(1-o._minBias)*l,n.sleepThreshold>0&&n.motion<o._motionSleepThreshold*i?(n.sleepCounter+=1,n.sleepCounter>=n.sleepThreshold&&o.set(n,!0)):n.sleepCounter>0&&(n.sleepCounter-=1)}else o.set(n,!1)}},o.afterCollisions=function(t,e){for(var i=e*e*e,s=0;s<t.length;s++){var n=t[s];if(n.isActive){var r=n.collision,a=r.bodyA.parent,l=r.bodyB.parent;if(!(a.isSleeping&&l.isSleeping||a.isStatic||l.isStatic)&&(a.isSleeping||l.isSleeping)){var c=a.isSleeping&&!a.isStatic?a:l,h=c===a?l:a;!c.isStatic&&h.motion>o._motionWakeThreshold*i&&o.set(c,!1)}}}},o.set=function(t,e){var i=t.isSleeping;e?(t.isSleeping=!0,t.sleepCounter=t.sleepThreshold,t.positionImpulse.x=0,t.positionImpulse.y=0,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.anglePrev=t.angle,t.speed=0,t.angularSpeed=0,t.motion=0,i||s.trigger(t,"sleepStart")):(t.isSleeping=!1,t.sleepCounter=0,i&&s.trigger(t,"sleepEnd"))}},4252:(t,e,i)=>{var o={};t.exports=o;var s=i(19275),n=i(52188),r=i(95982),a=i(9094),l=i(80127),c=i(25289);o.rectangle=function(t,e,i,o,a){a=a||{};var l={label:"Rectangle Body",position:{x:t,y:e},vertices:s.fromPath("L 0 0 L "+i+" 0 L "+i+" "+o+" L 0 "+o)};if(a.chamfer){var c=a.chamfer;l.vertices=s.chamfer(l.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete a.chamfer}return r.create(n.extend({},l,a))},o.trapezoid=function(t,e,i,o,a,l){l=l||{};var c,h=i*(a*=.5),d=h+(1-2*a)*i,u=d+h;c=a<.5?"L 0 0 L "+h+" "+-o+" L "+d+" "+-o+" L "+u+" 0":"L 0 0 L "+d+" "+-o+" L "+u+" 0";var p={label:"Trapezoid Body",position:{x:t,y:e},vertices:s.fromPath(c)};if(l.chamfer){var y=l.chamfer;p.vertices=s.chamfer(p.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete l.chamfer}return r.create(n.extend({},p,l))},o.circle=function(t,e,i,s,r){s=s||{};var a={label:"Circle Body",circleRadius:i};r=r||25;var l=Math.ceil(Math.max(10,Math.min(r,i)));return l%2==1&&(l+=1),o.polygon(t,e,l,i,n.extend({},a,s))},o.polygon=function(t,e,i,a,l){if(l=l||{},i<3)return o.circle(t,e,a,l);for(var c=2*Math.PI/i,h="",d=.5*c,u=0;u<i;u+=1){var p=d+u*c,y=Math.cos(p)*a,f=Math.sin(p)*a;h+="L "+y.toFixed(3)+" "+f.toFixed(3)+" "}var v={label:"Polygon Body",position:{x:t,y:e},vertices:s.fromPath(h)};if(l.chamfer){var g=l.chamfer;v.vertices=s.chamfer(v.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete l.chamfer}return r.create(n.extend({},v,l))},o.fromVertices=function(t,e,i,a,l,h,d){var u,p,y,f,v,g;for(a=a||{},p=[],l=void 0!==l&&l,h=void 0!==h?h:.01,d=void 0!==d?d:10,c||n.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),n.isArray(i[0])||(i=[i]),g=0;g<i.length;g+=1)if(f=i[g],(y=s.isConvex(f))||!c)f=y?s.clockwiseSort(f):s.hull(f),p.push({position:{x:t,y:e},vertices:f});else{var m=f.map((function(t){return[t.x,t.y]}));c.makeCCW(m),!1!==h&&c.removeCollinearPoints(m,h);var b=c.quickDecomp(m);for(v=0;v<b.length;v++){var x=b[v].map((function(t){return{x:t[0],y:t[1]}}));d>0&&s.area(x)<d||p.push({position:s.centre(x),vertices:x})}}for(v=0;v<p.length;v++)p[v]=r.create(n.extend(p[v],a));return l&&o.flagCoincidentParts(p,5),p.length>1?(u=r.create(n.extend({parts:p.slice(0)},a)),r.setPosition(u,{x:t,y:e}),u):p[0]},o.flagCoincidentParts=function(t,e){void 0===e&&(e=5);for(var i=0;i<t.length;i++)for(var o=t[i],s=i+1;s<t.length;s++){var n=t[s];if(a.overlaps(o.bounds,n.bounds))for(var r=o.vertices,c=n.vertices,h=0;h<o.vertices.length;h++)for(var d=0;d<n.vertices.length;d++){var u=l.magnitudeSquared(l.sub(r[(h+1)%r.length],c[d])),p=l.magnitudeSquared(l.sub(r[h],c[(d+1)%c.length]));u<e&&p<e&&(r[h].isInternal=!0,c[d].isInternal=!0)}}return t}},75472:(t,e,i)=>{var o={};t.exports=o;var s=i(64895),n=i(72169),r=i(52188),a=i(95982),l=i(4252);o.stack=function(t,e,i,o,n,r,l){for(var c,h=s.create({label:"Stack"}),d=t,u=e,p=0,y=0;y<o;y++){for(var f=0,v=0;v<i;v++){var g=l(d,u,v,y,c,p);if(g){var m=g.bounds.max.y-g.bounds.min.y,b=g.bounds.max.x-g.bounds.min.x;m>f&&(f=m),a.translate(g,{x:.5*b,y:.5*m}),d=g.bounds.max.x+n,s.addBody(h,g),c=g,p+=1}else d+=n}u+=f+r,d=t}return h},o.chain=function(t,e,i,o,a,l){for(var c=t.bodies,h=1;h<c.length;h++){var d=c[h-1],u=c[h],p=d.bounds.max.y-d.bounds.min.y,y=d.bounds.max.x-d.bounds.min.x,f=u.bounds.max.y-u.bounds.min.y,v={bodyA:d,pointA:{x:y*e,y:p*i},bodyB:u,pointB:{x:(u.bounds.max.x-u.bounds.min.x)*o,y:f*a}},g=r.extend(v,l);s.addConstraint(t,n.create(g))}return t.label+=" Chain",t},o.mesh=function(t,e,i,o,a){var l,c,h,d,u,p=t.bodies;for(l=0;l<i;l++){for(c=1;c<e;c++)h=p[c-1+l*e],d=p[c+l*e],s.addConstraint(t,n.create(r.extend({bodyA:h,bodyB:d},a)));if(l>0)for(c=0;c<e;c++)h=p[c+(l-1)*e],d=p[c+l*e],s.addConstraint(t,n.create(r.extend({bodyA:h,bodyB:d},a))),o&&c>0&&(u=p[c-1+(l-1)*e],s.addConstraint(t,n.create(r.extend({bodyA:u,bodyB:d},a)))),o&&c<e-1&&(u=p[c+1+(l-1)*e],s.addConstraint(t,n.create(r.extend({bodyA:u,bodyB:d},a))))}return t.label+=" Mesh",t},o.pyramid=function(t,e,i,s,n,r,l){return o.stack(t,e,i,s,n,r,(function(e,o,r,c,h,d){var u=Math.min(s,Math.ceil(i/2)),p=h?h.bounds.max.x-h.bounds.min.x:0;if(!(c>u||r<(c=u-c)||r>i-1-c))return 1===d&&a.translate(h,{x:(r+(i%2==1?1:-1))*p,y:0}),l(t+(h?r*p:0)+r*n,o,r,c,h,d)}))},o.newtonsCradle=function(t,e,i,o,r){for(var a=s.create({label:"Newtons Cradle"}),c=0;c<i;c++){var h=l.circle(t+c*(1.9*o),e+r,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),d=n.create({pointA:{x:t+c*(1.9*o),y:e},bodyB:h});s.addBody(a,h),s.addConstraint(a,d)}return a},o.car=function(t,e,i,o,r){var c=a.nextGroup(!0),h=.5*-i+20,d=.5*i-20,u=s.create({label:"Car"}),p=l.rectangle(t,e,i,o,{collisionFilter:{group:c},chamfer:{radius:.5*o},density:2e-4}),y=l.circle(t+h,e+0,r,{collisionFilter:{group:c},friction:.8}),f=l.circle(t+d,e+0,r,{collisionFilter:{group:c},friction:.8}),v=n.create({bodyB:p,pointB:{x:h,y:0},bodyA:y,stiffness:1,length:0}),g=n.create({bodyB:p,pointB:{x:d,y:0},bodyA:f,stiffness:1,length:0});return s.addBody(u,p),s.addBody(u,y),s.addBody(u,f),s.addConstraint(u,v),s.addConstraint(u,g),u},o.softBody=function(t,e,i,s,n,a,c,h,d,u){d=r.extend({inertia:1/0},d),u=r.extend({stiffness:.2,render:{type:"line",anchors:!1}},u);var p=o.stack(t,e,i,s,n,a,(function(t,e){return l.circle(t,e,h,d)}));return o.mesh(p,i,s,c,u),p.label="Soft Body",p}},57063:(t,e,i)=>{var o={};t.exports=o;var s=i(80127),n=i(52188);o.fromVertices=function(t){for(var e={},i=0;i<t.length;i++){var o=(i+1)%t.length,r=s.normalise({x:t[o].y-t[i].y,y:t[i].x-t[o].x}),a=0===r.y?1/0:r.x/r.y;e[a=a.toFixed(3).toString()]=r}return n.values(e)},o.rotate=function(t,e){if(0!==e)for(var i=Math.cos(e),o=Math.sin(e),s=0;s<t.length;s++){var n,r=t[s];n=r.x*i-r.y*o,r.y=r.x*o+r.y*i,r.x=n}}},9094:t=>{var e={};t.exports=e,e.create=function(t){var i={min:{x:0,y:0},max:{x:0,y:0}};return t&&e.update(i,t),i},e.update=function(t,e,i){t.min.x=1/0,t.max.x=-1/0,t.min.y=1/0,t.max.y=-1/0;for(var o=0;o<e.length;o++){var s=e[o];s.x>t.max.x&&(t.max.x=s.x),s.x<t.min.x&&(t.min.x=s.x),s.y>t.max.y&&(t.max.y=s.y),s.y<t.min.y&&(t.min.y=s.y)}i&&(i.x>0?t.max.x+=i.x:t.min.x+=i.x,i.y>0?t.max.y+=i.y:t.min.y+=i.y)},e.contains=function(t,e){return e.x>=t.min.x&&e.x<=t.max.x&&e.y>=t.min.y&&e.y<=t.max.y},e.overlaps=function(t,e){return t.min.x<=e.max.x&&t.max.x>=e.min.x&&t.max.y>=e.min.y&&t.min.y<=e.max.y},e.translate=function(t,e){t.min.x+=e.x,t.max.x+=e.x,t.min.y+=e.y,t.max.y+=e.y},e.shift=function(t,e){var i=t.max.x-t.min.x,o=t.max.y-t.min.y;t.min.x=e.x,t.max.x=e.x+i,t.min.y=e.y,t.max.y=e.y+o}},33206:(t,e,i)=>{var o={};t.exports=o,i(9094);var s=i(52188);o.pathToVertices=function(t,e){"undefined"==typeof window||"SVGPathSeg"in window||s.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var i,n,r,a,l,c,h,d,u,p,y,f=[],v=0,g=0,m=0;e=e||15;var b=function(t,e,i){var o=i%2==1&&i>1;if(!u||t!=u.x||e!=u.y){u&&o?(p=u.x,y=u.y):(p=0,y=0);var s={x:p+t,y:y+e};!o&&u||(u=s),f.push(s),g=p+t,m=y+e}},x=function(t){var e=t.pathSegTypeAsLetter.toUpperCase();if("Z"!==e){switch(e){case"M":case"L":case"T":case"C":case"S":case"Q":g=t.x,m=t.y;break;case"H":g=t.x;break;case"V":m=t.y}b(g,m,t.pathSegType)}};for(o._svgPathToAbsolute(t),r=t.getTotalLength(),c=[],i=0;i<t.pathSegList.numberOfItems;i+=1)c.push(t.pathSegList.getItem(i));for(h=c.concat();v<r;){if((l=c[t.getPathSegAtLength(v)])!=d){for(;h.length&&h[0]!=l;)x(h.shift());d=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=t.getPointAtLength(v),b(a.x,a.y,0)}v+=e}for(i=0,n=h.length;i<n;++i)x(h[i]);return f},o._svgPathToAbsolute=function(t){for(var e,i,o,s,n,r,a=t.pathSegList,l=0,c=0,h=a.numberOfItems,d=0;d<h;++d){var u=a.getItem(d),p=u.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in u&&(l=u.x),"y"in u&&(c=u.y);else switch("x1"in u&&(o=l+u.x1),"x2"in u&&(n=l+u.x2),"y1"in u&&(s=c+u.y1),"y2"in u&&(r=c+u.y2),"x"in u&&(l+=u.x),"y"in u&&(c+=u.y),p){case"m":a.replaceItem(t.createSVGPathSegMovetoAbs(l,c),d);break;case"l":a.replaceItem(t.createSVGPathSegLinetoAbs(l,c),d);break;case"h":a.replaceItem(t.createSVGPathSegLinetoHorizontalAbs(l),d);break;case"v":a.replaceItem(t.createSVGPathSegLinetoVerticalAbs(c),d);break;case"c":a.replaceItem(t.createSVGPathSegCurvetoCubicAbs(l,c,o,s,n,r),d);break;case"s":a.replaceItem(t.createSVGPathSegCurvetoCubicSmoothAbs(l,c,n,r),d);break;case"q":a.replaceItem(t.createSVGPathSegCurvetoQuadraticAbs(l,c,o,s),d);break;case"t":a.replaceItem(t.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),d);break;case"a":a.replaceItem(t.createSVGPathSegArcAbs(l,c,u.r1,u.r2,u.angle,u.largeArcFlag,u.sweepFlag),d);break;case"z":case"Z":l=e,c=i}"M"!=p&&"m"!=p||(e=l,i=c)}}},80127:t=>{var e={};t.exports=e,e.create=function(t,e){return{x:t||0,y:e||0}},e.clone=function(t){return{x:t.x,y:t.y}},e.magnitude=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.magnitudeSquared=function(t){return t.x*t.x+t.y*t.y},e.rotate=function(t,e,i){var o=Math.cos(e),s=Math.sin(e);i||(i={});var n=t.x*o-t.y*s;return i.y=t.x*s+t.y*o,i.x=n,i},e.rotateAbout=function(t,e,i,o){var s=Math.cos(e),n=Math.sin(e);o||(o={});var r=i.x+((t.x-i.x)*s-(t.y-i.y)*n);return o.y=i.y+((t.x-i.x)*n+(t.y-i.y)*s),o.x=r,o},e.normalise=function(t){var i=e.magnitude(t);return 0===i?{x:0,y:0}:{x:t.x/i,y:t.y/i}},e.dot=function(t,e){return t.x*e.x+t.y*e.y},e.cross=function(t,e){return t.x*e.y-t.y*e.x},e.cross3=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)},e.add=function(t,e,i){return i||(i={}),i.x=t.x+e.x,i.y=t.y+e.y,i},e.sub=function(t,e,i){return i||(i={}),i.x=t.x-e.x,i.y=t.y-e.y,i},e.mult=function(t,e){return{x:t.x*e,y:t.y*e}},e.div=function(t,e){return{x:t.x/e,y:t.y/e}},e.perp=function(t,e){return{x:(e=!0===e?-1:1)*-t.y,y:e*t.x}},e.neg=function(t){return{x:-t.x,y:-t.y}},e.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},e._temp=[e.create(),e.create(),e.create(),e.create(),e.create(),e.create()]},19275:(t,e,i)=>{var o={};t.exports=o;var s=i(80127),n=i(52188);o.create=function(t,e){for(var i=[],o=0;o<t.length;o++){var s=t[o],n={x:s.x,y:s.y,index:o,body:e,isInternal:!1,contact:null,offset:null};n.contact={vertex:n,normalImpulse:0,tangentImpulse:0},i.push(n)}return i},o.fromPath=function(t,e){var i=[];return t.replace(/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,(function(t,e,o){i.push({x:parseFloat(e),y:parseFloat(o)})})),o.create(i,e)},o.centre=function(t){for(var e,i,n,r=o.area(t,!0),a={x:0,y:0},l=0;l<t.length;l++)n=(l+1)%t.length,e=s.cross(t[l],t[n]),i=s.mult(s.add(t[l],t[n]),e),a=s.add(a,i);return s.div(a,6*r)},o.mean=function(t){for(var e={x:0,y:0},i=0;i<t.length;i++)e.x+=t[i].x,e.y+=t[i].y;return s.div(e,t.length)},o.area=function(t,e){for(var i=0,o=t.length-1,s=0;s<t.length;s++)i+=(t[o].x-t[s].x)*(t[o].y+t[s].y),o=s;return e?i/2:Math.abs(i)/2},o.inertia=function(t,e){for(var i,o,n=0,r=0,a=t,l=0;l<a.length;l++)o=(l+1)%a.length,n+=(i=Math.abs(s.cross(a[o],a[l])))*(s.dot(a[o],a[o])+s.dot(a[o],a[l])+s.dot(a[l],a[l])),r+=i;return e/6*(n/r)},o.translate=function(t,e,i){var o;if(i)for(o=0;o<t.length;o++)t[o].x+=e.x*i,t[o].y+=e.y*i;else for(o=0;o<t.length;o++)t[o].x+=e.x,t[o].y+=e.y;return t},o.rotate=function(t,e,i){if(0!==e){for(var o=Math.cos(e),s=Math.sin(e),n=0;n<t.length;n++){var r=t[n],a=r.x-i.x,l=r.y-i.y;r.x=i.x+(a*o-l*s),r.y=i.y+(a*s+l*o)}return t}},o.contains=function(t,e){for(var i=0;i<t.length;i++){var o=t[i],s=t[(i+1)%t.length];if((e.x-o.x)*(s.y-o.y)+(e.y-o.y)*(o.x-s.x)>0)return!1}return!0},o.scale=function(t,e,i,n){if(1===e&&1===i)return t;var r,a;n=n||o.centre(t);for(var l=0;l<t.length;l++)r=t[l],a=s.sub(r,n),t[l].x=n.x+a.x*e,t[l].y=n.y+a.y*i;return t},o.chamfer=function(t,e,i,o,r){e="number"==typeof e?[e]:e||[8],i=void 0!==i?i:-1,o=o||2,r=r||14;for(var a=[],l=0;l<t.length;l++){var c=t[l-1>=0?l-1:t.length-1],h=t[l],d=t[(l+1)%t.length],u=e[l<e.length?l:e.length-1];if(0!==u){var p=s.normalise({x:h.y-c.y,y:c.x-h.x}),y=s.normalise({x:d.y-h.y,y:h.x-d.x}),f=Math.sqrt(2*Math.pow(u,2)),v=s.mult(n.clone(p),u),g=s.normalise(s.mult(s.add(p,y),.5)),m=s.sub(h,s.mult(g,f)),b=i;-1===i&&(b=1.75*Math.pow(u,.32)),(b=n.clamp(b,o,r))%2==1&&(b+=1);for(var x=Math.acos(s.dot(p,y))/b,C=0;C<b;C++)a.push(s.add(s.rotate(v,x*C),m))}else a.push(h)}return a},o.clockwiseSort=function(t){var e=o.mean(t);return t.sort((function(t,i){return s.angle(e,t)-s.angle(e,i)})),t},o.isConvex=function(t){var e,i,o,s,n=0,r=t.length;if(r<3)return null;for(e=0;e<r;e++)if(o=(e+2)%r,s=(t[i=(e+1)%r].x-t[e].x)*(t[o].y-t[i].y),(s-=(t[i].y-t[e].y)*(t[o].x-t[i].x))<0?n|=1:s>0&&(n|=2),3===n)return!1;return 0!==n||null},o.hull=function(t){var e,i,o=[],n=[];for((t=t.slice(0)).sort((function(t,e){var i=t.x-e.x;return 0!==i?i:t.y-e.y})),i=0;i<t.length;i+=1){for(e=t[i];n.length>=2&&s.cross3(n[n.length-2],n[n.length-1],e)<=0;)n.pop();n.push(e)}for(i=t.length-1;i>=0;i-=1){for(e=t[i];o.length>=2&&s.cross3(o[o.length-2],o[o.length-1],e)<=0;)o.pop();o.push(e)}return o.pop(),n.pop(),o.concat(n)}},14192:(t,e,i)=>{var o=i(10381),s={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Body.create",(function(){s.Body.init(this)})),t.before("Engine.update",(function(t){s.Engine.update(t)}))},Body:{init:function(t){t.plugin.attractors=t.plugin.attractors||[]}},Engine:{update:function(t){for(var e=o.Composite.allBodies(t.world),i=0;i<e.length;i++){var s=e[i],n=s.plugin.attractors;if(n&&n.length>0)for(var r=0;r<e.length;r++){var a=e[r];if(i!==r)for(var l=0;l<n.length;l++){var c=n[l],h=c;o.Common.isFunction(c)&&(h=c(s,a)),h&&o.Body.applyForce(a,a.position,h)}}}}},Attractors:{gravityConstant:.001,gravity:function(t,e){var i=o.Vector.sub(e.position,t.position),n=o.Vector.magnitudeSquared(i)||1e-4,r=o.Vector.normalise(i),a=-s.Attractors.gravityConstant*(t.mass*e.mass/n),l=o.Vector.mult(r,a);o.Body.applyForce(t,t.position,o.Vector.neg(l)),o.Body.applyForce(e,e.position,l)}}};t.exports=s},73189:t=>{t.exports={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Engine.create",(function(){t.Events.on(this,"collisionStart",(function(e){e.pairs.map((function(e){var i=e.bodyA,o=e.bodyB;i.gameObject&&i.gameObject.emit("collide",i,o,e),o.gameObject&&o.gameObject.emit("collide",o,i,e),t.Events.trigger(i,"onCollide",{pair:e}),t.Events.trigger(o,"onCollide",{pair:e}),i.onCollideCallback&&i.onCollideCallback(e),o.onCollideCallback&&o.onCollideCallback(e),i.onCollideWith[o.id]&&i.onCollideWith[o.id](o,e),o.onCollideWith[i.id]&&o.onCollideWith[i.id](i,e)}))})),t.Events.on(this,"collisionActive",(function(e){e.pairs.map((function(e){var i=e.bodyA,o=e.bodyB;i.gameObject&&i.gameObject.emit("collideActive",i,o,e),o.gameObject&&o.gameObject.emit("collideActive",o,i,e),t.Events.trigger(i,"onCollideActive",{pair:e}),t.Events.trigger(o,"onCollideActive",{pair:e}),i.onCollideActiveCallback&&i.onCollideActiveCallback(e),o.onCollideActiveCallback&&o.onCollideActiveCallback(e)}))})),t.Events.on(this,"collisionEnd",(function(e){e.pairs.map((function(e){var i=e.bodyA,o=e.bodyB;i.gameObject&&i.gameObject.emit("collideEnd",i,o,e),o.gameObject&&o.gameObject.emit("collideEnd",o,i,e),t.Events.trigger(i,"onCollideEnd",{pair:e}),t.Events.trigger(o,"onCollideEnd",{pair:e}),i.onCollideEndCallback&&i.onCollideEndCallback(e),o.onCollideEndCallback&&o.onCollideEndCallback(e)}))}))}))}}},14494:(t,e,i)=>{var o=i(10381),s={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.14.2",silent:!0,install:function(t){t.after("Engine.update",(function(){s.Engine.update(this)}))},Engine:{update:function(t){for(var e=t.world,i=o.Composite.allBodies(e),n=o.Composite.allComposites(e),r=0;r<i.length;r+=1){var a=i[r];a.plugin.wrap&&s.Body.wrap(a,a.plugin.wrap)}for(r=0;r<n.length;r+=1){var l=n[r];l.plugin.wrap&&s.Composite.wrap(l,l.plugin.wrap)}}},Bounds:{wrap:function(t,e){var i=null,o=null;if(void 0!==e.min.x&&void 0!==e.max.x&&(t.min.x>e.max.x?i=e.min.x-t.max.x:t.max.x<e.min.x&&(i=e.max.x-t.min.x)),void 0!==e.min.y&&void 0!==e.max.y&&(t.min.y>e.max.y?o=e.min.y-t.max.y:t.max.y<e.min.y&&(o=e.max.y-t.min.y)),null!==i||null!==o)return{x:i||0,y:o||0}}},Body:{wrap:function(t,e){var i=s.Bounds.wrap(t.bounds,e);return i&&o.Body.translate(t,i),i}},Composite:{bounds:function(t){for(var e=o.Composite.allBodies(t),i=[],s=0;s<e.length;s+=1){var n=e[s];i.push(n.bounds.min,n.bounds.max)}return o.Bounds.create(i)},wrap:function(t,e){var i=s.Bounds.wrap(s.Composite.bounds(t),e);return i&&o.Composite.translate(t,i),i}}};t.exports=s},25289:t=>{function e(t,e,i){i=i||0;var o,s,n,r,a,l,c,h=[0,0];return o=t[1][1]-t[0][1],s=t[0][0]-t[1][0],n=o*t[0][0]+s*t[0][1],r=e[1][1]-e[0][1],a=e[0][0]-e[1][0],l=r*e[0][0]+a*e[0][1],S(c=o*a-r*s,0,i)||(h[0]=(a*n-s*l)/c,h[1]=(o*l-r*n)/c),h}function i(t,e,i,o){var s=e[0]-t[0],n=e[1]-t[1],r=o[0]-i[0],a=o[1]-i[1];if(r*n-a*s==0)return!1;var l=(s*(i[1]-t[1])+n*(t[0]-i[0]))/(r*n-a*s),c=(r*(t[1]-i[1])+a*(i[0]-t[0]))/(a*s-r*n);return l>=0&&l<=1&&c>=0&&c<=1}function o(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])}function s(t,e,i){return o(t,e,i)>0}function n(t,e,i){return o(t,e,i)>=0}function r(t,e,i){return o(t,e,i)<0}function a(t,e,i){return o(t,e,i)<=0}t.exports={decomp:function(t){var e=x(t);return e.length>0?C(t,e):[t]},quickDecomp:function t(e,i,o,l,c,h,f){h=h||100,f=f||0,c=c||25,i=void 0!==i?i:[],o=o||[],l=l||[];var v=[0,0],g=[0,0],b=[0,0],x=0,C=0,S=0,B=0,A=0,_=0,T=0,O=[],M=[],P=e,k=e;if(k.length<3)return i;if(++f>h)return console.warn("quickDecomp: max level ("+h+") reached."),i;for(var E=0;E<e.length;++E)if(y(P,E)){o.push(P[E]),x=C=Number.MAX_VALUE;for(var I=0;I<e.length;++I)s(u(P,E-1),u(P,E),u(P,I))&&a(u(P,E-1),u(P,E),u(P,I-1))&&(b=w(u(P,E-1),u(P,E),u(P,I),u(P,I-1)),r(u(P,E+1),u(P,E),b)&&(S=d(P[E],b))<C&&(C=S,g=b,_=I)),s(u(P,E+1),u(P,E),u(P,I+1))&&a(u(P,E+1),u(P,E),u(P,I))&&(b=w(u(P,E+1),u(P,E),u(P,I),u(P,I+1)),s(u(P,E-1),u(P,E),b)&&(S=d(P[E],b))<x&&(x=S,v=b,A=I));if(_===(A+1)%e.length)b[0]=(g[0]+v[0])/2,b[1]=(g[1]+v[1])/2,l.push(b),E<A?(p(O,P,E,A+1),O.push(b),M.push(b),0!==_&&p(M,P,_,P.length),p(M,P,0,E+1)):(0!==E&&p(O,P,E,P.length),p(O,P,0,A+1),O.push(b),M.push(b),p(M,P,_,E+1));else{if(_>A&&(A+=e.length),B=Number.MAX_VALUE,A<_)return i;for(I=_;I<=A;++I)n(u(P,E-1),u(P,E),u(P,I))&&a(u(P,E+1),u(P,E),u(P,I))&&(S=d(u(P,E),u(P,I)))<B&&m(P,E,I)&&(B=S,T=I%e.length);E<T?(p(O,P,E,T+1),0!==T&&p(M,P,T,k.length),p(M,P,0,E+1)):(0!==E&&p(O,P,E,k.length),p(O,P,0,T+1),p(M,P,T,E+1))}return O.length<M.length?(t(O,i,o,l,c,h,f),t(M,i,o,l,c,h,f)):(t(M,i,o,l,c,h,f),t(O,i,o,l,c,h,f)),i}return i.push(e),i},isSimple:function(t){var e,o=t;for(e=0;e<o.length-1;e++)for(var s=0;s<e-1;s++)if(i(o[e],o[e+1],o[s],o[s+1]))return!1;for(e=1;e<o.length-2;e++)if(i(o[0],o[o.length-1],o[e],o[e+1]))return!1;return!0},removeCollinearPoints:function(t,e){for(var i=0,o=t.length-1;t.length>3&&o>=0;--o)h(u(t,o-1),u(t,o),u(t,o+1),e)&&(t.splice(o%t.length,1),i++);return i},removeDuplicatePoints:function(t,e){for(var i=t.length-1;i>=1;--i)for(var o=t[i],s=i-1;s>=0;--s)B(o,t[s],e)&&t.splice(i,1)},makeCCW:function(t){for(var e=0,i=t,o=1;o<t.length;++o)(i[o][1]<i[e][1]||i[o][1]===i[e][1]&&i[o][0]>i[e][0])&&(e=o);return!s(u(t,e-1),u(t,e),u(t,e+1))&&(function(t){for(var e=[],i=t.length,o=0;o!==i;o++)e.push(t.pop());for(o=0;o!==i;o++)t[o]=e[o]}(t),!0)}};var l=[],c=[];function h(t,e,i,s){if(s){var n=l,r=c;n[0]=e[0]-t[0],n[1]=e[1]-t[1],r[0]=i[0]-e[0],r[1]=i[1]-e[1];var a=n[0]*r[0]+n[1]*r[1],h=Math.sqrt(n[0]*n[0]+n[1]*n[1]),d=Math.sqrt(r[0]*r[0]+r[1]*r[1]);return Math.acos(a/(h*d))<s}return 0===o(t,e,i)}function d(t,e){var i=e[0]-t[0],o=e[1]-t[1];return i*i+o*o}function u(t,e){var i=t.length;return t[e<0?e%i+i:e%i]}function p(t,e,i,o){for(var s=i;s<o;s++)t.push(e[s])}function y(t,e){return r(u(t,e-1),u(t,e),u(t,e+1))}var f=[],v=[];function g(t,i,o){var s,r,l=f,c=v;if(n(u(t,i+1),u(t,i),u(t,o))&&a(u(t,i-1),u(t,i),u(t,o)))return!1;r=d(u(t,i),u(t,o));for(var h=0;h!==t.length;++h)if((h+1)%t.length!==i&&h!==i&&n(u(t,i),u(t,o),u(t,h+1))&&a(u(t,i),u(t,o),u(t,h))&&(l[0]=u(t,i),l[1]=u(t,o),c[0]=u(t,h),c[1]=u(t,h+1),s=e(l,c),d(u(t,i),s)<r))return!1;return!0}function m(t,e,o){for(var s=0;s!==t.length;++s)if(s!==e&&s!==o&&(s+1)%t.length!==e&&(s+1)%t.length!==o&&i(u(t,e),u(t,o),u(t,s),u(t,s+1)))return!1;return!0}function b(t,e,i,o){var s=o||[];if(function(t){t.length=0}(s),e<i)for(var n=e;n<=i;n++)s.push(t[n]);else{for(n=0;n<=i;n++)s.push(t[n]);for(n=e;n<t.length;n++)s.push(t[n])}return s}function x(t){for(var e=[],i=[],o=[],s=[],n=Number.MAX_VALUE,r=0;r<t.length;++r)if(y(t,r))for(var a=0;a<t.length;++a)if(g(t,r,a)){i=x(b(t,r,a,s)),o=x(b(t,a,r,s));for(var l=0;l<o.length;l++)i.push(o[l]);i.length<n&&(e=i,n=i.length,e.push([u(t,r),u(t,a)]))}return e}function C(t,e){if(0===e.length)return[t];if(e instanceof Array&&e.length&&e[0]instanceof Array&&2===e[0].length&&e[0][0]instanceof Array){for(var i=[t],o=0;o<e.length;o++)for(var s=e[o],n=0;n<i.length;n++){var r=C(i[n],s);if(r){i.splice(n,1),i.push(r[0],r[1]);break}}return i}return s=e,o=t.indexOf(s[0]),n=t.indexOf(s[1]),-1!==o&&-1!==n&&[b(t,o,n),b(t,n,o)]}function w(t,e,i,o,s){s=s||0;var n=e[1]-t[1],r=t[0]-e[0],a=n*t[0]+r*t[1],l=o[1]-i[1],c=i[0]-o[0],h=l*i[0]+c*i[1],d=n*c-l*r;return S(d,0,s)?[0,0]:[(c*a-r*h)/d,(n*h-l*a)/d]}function S(t,e,i){return i=i||0,Math.abs(t-e)<=i}function B(t,e,i){return S(t[0],e[0],i)&&S(t[1],e[1],i)}},98767:(t,e,i)=>{var o=i(25738);t.exports=function(t,e,i,s,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=r.width),void 0===s&&(s=r.height),n||(n={});var a=o(n,"isNotEmpty",!1),l=o(n,"isColliding",!1),c=o(n,"hasInterestingFace",!1);t<0&&(i+=t,t=0),e<0&&(s+=e,e=0),t+i>r.width&&(i=Math.max(r.width-t,0)),e+s>r.height&&(s=Math.max(r.height-e,0));for(var h=[],d=e;d<e+s;d++)for(var u=t;u<t+i;u++){var p=r.data[d][u];if(null!==p){if(a&&-1===p.index)continue;if(l&&!p.collides)continue;if(c&&!p.hasInterestingFace)continue;h.push(p)}}return h}},79247:(t,e,i)=>{var o=i(98767),s=i(17321),n=new s,r=new s;t.exports=function(t,e,i,s,a,l,c){var h=c.tilemapLayer.tilemap._convert.WorldToTileXY;h(t,e,!0,n,l,c);var d=n.x,u=n.y;h(t+i,e+s,!1,r,l,c);var p=Math.ceil(r.x),y=Math.ceil(r.y);return o(d,u,p-d,y-u,a,c)}}}]);